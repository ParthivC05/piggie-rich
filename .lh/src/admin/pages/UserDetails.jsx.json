{
    "sourceFile": "src/admin/pages/UserDetails.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1751537616220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751538835636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,31 +1,161 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { useParams } from \"react-router-dom\";\r\n+import { useParams, useNavigate } from \"react-router-dom\";\r\n import AdminLayout from \"../components/AdminLayout\";\r\n \r\n const UserDetail = () => {\r\n   const { id } = useParams();\r\n   const [user, setUser] = useState(null);\r\n+  const [editMode, setEditMode] = useState(false);\r\n+  const [editForm, setEditForm] = useState({ username: \"\", email: \"\", role: \"\" });\r\n+  const [loading, setLoading] = useState(false);\r\n   const token = localStorage.getItem(\"token\");\r\n+  const navigate = useNavigate();\r\n \r\n+  const fetchUser = async () => {\r\n+    const res = await fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/users/${id}`, {\r\n+      headers: { Authorization: `Bearer ${token}` },\r\n+    });\r\n+    const data = await res.json();\r\n+    setUser(data.user);\r\n+    setEditForm({\r\n+      username: data.user.username,\r\n+      email: data.user.email,\r\n+      role: data.user.role,\r\n+    });\r\n+  };\r\n+\r\n   useEffect(() => {\r\n-    fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/users/${id}`, {\r\n-      headers: { Authorization: `Bearer ${token}` },\r\n-    })\r\n-      .then((res) => res.json())\r\n-      .then((data) => setUser(data.user));\r\n+    fetchUser();\r\n+    // eslint-disable-next-line\r\n   }, [id]);\r\n \r\n+  const handleEdit = async (e) => {\r\n+    e.preventDefault();\r\n+    setLoading(true);\r\n+    await fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/users/${id}`, {\r\n+      method: \"PUT\",\r\n+      headers: {\r\n+        Authorization: `Bearer ${token}`,\r\n+        \"Content-Type\": \"application/json\",\r\n+      },\r\n+      body: JSON.stringify(editForm),\r\n+    });\r\n+    setEditMode(false);\r\n+    await fetchUser();\r\n+    setLoading(false);\r\n+  };\r\n+\r\n+  const handleDelete = async () => {\r\n+    if (!window.confirm(\"Are you sure you want to delete this user?\")) return;\r\n+    setLoading(true);\r\n+    await fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/users/${id}`, {\r\n+      method: \"DELETE\",\r\n+      headers: { Authorization: `Bearer ${token}` },\r\n+    });\r\n+    setLoading(false);\r\n+    navigate(\"/admin/users\");\r\n+  };\r\n+\r\n+  const handleBlockToggle = async () => {\r\n+    setLoading(true);\r\n+    await fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/users/${id}/block`, {\r\n+      method: \"PATCH\",\r\n+      headers: {\r\n+        Authorization: `Bearer ${token}`,\r\n+        \"Content-Type\": \"application/json\",\r\n+      },\r\n+      body: JSON.stringify({ blocked: !user.blocked }),\r\n+    });\r\n+    await fetchUser();\r\n+    setLoading(false);\r\n+  };\r\n+\r\n   if (!user) return <AdminLayout>Loading...</AdminLayout>;\r\n \r\n   return (\r\n     <AdminLayout>\r\n       <h1 className=\"text-2xl font-bold mb-4\">User Detail</h1>\r\n-      <div className=\"mb-2\"><strong>Username:</strong> {user.username}</div>\r\n-      <div className=\"mb-2\"><strong>Email:</strong> {user.email}</div>\r\n-      <div className=\"mb-2\"><strong>Role:</strong> {user.role}</div>\r\n-      <div className=\"mb-2\"><strong>Status:</strong> {user.blocked ? \"Blocked\" : \"Active\"}</div>\r\n-      {/* Add more fields as needed */}\r\n+      {editMode ? (\r\n+        <form onSubmit={handleEdit} className=\"mb-4 space-y-2\">\r\n+          <div>\r\n+            <label className=\"block font-semibold\">Username:</label>\r\n+            <input\r\n+              className=\"border p-2 rounded w-full\"\r\n+              value={editForm.username}\r\n+              onChange={e => setEditForm(f => ({ ...f, username: e.target.value }))}\r\n+              required\r\n+            />\r\n+          </div>\r\n+          <div>\r\n+            <label className=\"block font-semibold\">Email:</label>\r\n+            <input\r\n+              className=\"border p-2 rounded w-full\"\r\n+              value={editForm.email}\r\n+              onChange={e => setEditForm(f => ({ ...f, email: e.target.value }))}\r\n+              required\r\n+            />\r\n+          </div>\r\n+          <div>\r\n+            <label className=\"block font-semibold\">Role:</label>\r\n+            <select\r\n+              className=\"border p-2 rounded w-full\"\r\n+              value={editForm.role}\r\n+              onChange={e => setEditForm(f => ({ ...f, role: e.target.value }))}\r\n+            >\r\n+              <option value=\"user\">User</option>\r\n+              <option value=\"admin\">Admin</option>\r\n+              <option value=\"cashier\">Cashier</option>\r\n+            </select>\r\n+          </div>\r\n+          <div className=\"flex gap-2 mt-2\">\r\n+            <button\r\n+              type=\"submit\"\r\n+              className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n+              disabled={loading}\r\n+            >\r\n+              {loading ? \"Saving...\" : \"Save\"}\r\n+            </button>\r\n+            <button\r\n+              type=\"button\"\r\n+              className=\"bg-gray-300 px-4 py-2 rounded\"\r\n+              onClick={() => setEditMode(false)}\r\n+              disabled={loading}\r\n+            >\r\n+              Cancel\r\n+            </button>\r\n+          </div>\r\n+        </form>\r\n+      ) : (\r\n+        <>\r\n+          <div className=\"mb-2\"><strong>Username:</strong> {user.username}</div>\r\n+          <div className=\"mb-2\"><strong>Email:</strong> {user.email}</div>\r\n+          <div className=\"mb-2\"><strong>Role:</strong> {user.role}</div>\r\n+          <div className=\"mb-2\"><strong>Status:</strong> {user.blocked ? \"Blocked\" : \"Active\"}</div>\r\n+          <div className=\"flex gap-2 mt-4\">\r\n+            <button\r\n+              className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n+              onClick={() => setEditMode(true)}\r\n+            >\r\n+              Edit\r\n+            </button>\r\n+            <button\r\n+              className={`px-4 py-2 rounded text-white ${user.blocked ? \"bg-green-600\" : \"bg-yellow-500\"}`}\r\n+              onClick={handleBlockToggle}\r\n+              disabled={loading}\r\n+            >\r\n+              {user.blocked ? \"Unblock\" : \"Block\"}\r\n+            </button>\r\n+            <button\r\n+              className=\"bg-red-500 text-white px-4 py-2 rounded\"\r\n+              onClick={handleDelete}\r\n+              disabled={loading}\r\n+            >\r\n+              Delete\r\n+            </button>\r\n+          </div>\r\n+        </>\r\n+      )}\r\n     </AdminLayout>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1751538934156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n   };\r\n \r\n   useEffect(() => {\r\n     fetchUser();\r\n-    // eslint-disable-next-line\r\n+   \r\n   }, [id]);\r\n \r\n   const handleEdit = async (e) => {\r\n     e.preventDefault();\r\n"
                },
                {
                    "date": 1751544332175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,8 @@\n   };\r\n \r\n   useEffect(() => {\r\n     fetchUser();\r\n-   \r\n   }, [id]);\r\n \r\n   const handleEdit = async (e) => {\r\n     e.preventDefault();\r\n@@ -69,94 +68,107 @@\n     await fetchUser();\r\n     setLoading(false);\r\n   };\r\n \r\n-  if (!user) return <AdminLayout>Loading...</AdminLayout>;\r\n+  if (!user) return <AdminLayout><div className=\"text-center py-8\">Loading user data...</div></AdminLayout>;\r\n \r\n   return (\r\n     <AdminLayout>\r\n-      <h1 className=\"text-2xl font-bold mb-4\">User Detail</h1>\r\n-      {editMode ? (\r\n-        <form onSubmit={handleEdit} className=\"mb-4 space-y-2\">\r\n-          <div>\r\n-            <label className=\"block font-semibold\">Username:</label>\r\n-            <input\r\n-              className=\"border p-2 rounded w-full\"\r\n-              value={editForm.username}\r\n-              onChange={e => setEditForm(f => ({ ...f, username: e.target.value }))}\r\n-              required\r\n-            />\r\n-          </div>\r\n-          <div>\r\n-            <label className=\"block font-semibold\">Email:</label>\r\n-            <input\r\n-              className=\"border p-2 rounded w-full\"\r\n-              value={editForm.email}\r\n-              onChange={e => setEditForm(f => ({ ...f, email: e.target.value }))}\r\n-              required\r\n-            />\r\n-          </div>\r\n-          <div>\r\n-            <label className=\"block font-semibold\">Role:</label>\r\n-            <select\r\n-              className=\"border p-2 rounded w-full\"\r\n-              value={editForm.role}\r\n-              onChange={e => setEditForm(f => ({ ...f, role: e.target.value }))}\r\n-            >\r\n-              <option value=\"user\">User</option>\r\n-              <option value=\"admin\">Admin</option>\r\n-              <option value=\"cashier\">Cashier</option>\r\n-            </select>\r\n-          </div>\r\n-          <div className=\"flex gap-2 mt-2\">\r\n-            <button\r\n-              type=\"submit\"\r\n-              className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n-              disabled={loading}\r\n-            >\r\n-              {loading ? \"Saving...\" : \"Save\"}\r\n-            </button>\r\n-            <button\r\n-              type=\"button\"\r\n-              className=\"bg-gray-300 px-4 py-2 rounded\"\r\n-              onClick={() => setEditMode(false)}\r\n-              disabled={loading}\r\n-            >\r\n-              Cancel\r\n-            </button>\r\n-          </div>\r\n-        </form>\r\n-      ) : (\r\n-        <>\r\n-          <div className=\"mb-2\"><strong>Username:</strong> {user.username}</div>\r\n-          <div className=\"mb-2\"><strong>Email:</strong> {user.email}</div>\r\n-          <div className=\"mb-2\"><strong>Role:</strong> {user.role}</div>\r\n-          <div className=\"mb-2\"><strong>Status:</strong> {user.blocked ? \"Blocked\" : \"Active\"}</div>\r\n-          <div className=\"flex gap-2 mt-4\">\r\n-            <button\r\n-              className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n-              onClick={() => setEditMode(true)}\r\n-            >\r\n-              Edit\r\n-            </button>\r\n-            <button\r\n-              className={`px-4 py-2 rounded text-white ${user.blocked ? \"bg-green-600\" : \"bg-yellow-500\"}`}\r\n-              onClick={handleBlockToggle}\r\n-              disabled={loading}\r\n-            >\r\n-              {user.blocked ? \"Unblock\" : \"Block\"}\r\n-            </button>\r\n-            <button\r\n-              className=\"bg-red-500 text-white px-4 py-2 rounded\"\r\n-              onClick={handleDelete}\r\n-              disabled={loading}\r\n-            >\r\n-              Delete\r\n-            </button>\r\n-          </div>\r\n-        </>\r\n-      )}\r\n+      <h1 className=\"text-3xl font-bold mb-6 text-gray-800\">User Details</h1>\r\n+\r\n+      <div className=\"bg-white p-6 rounded-xl shadow-md\">\r\n+        {editMode ? (\r\n\\ No newline at end of file\n+          <form onSubmit={handleEdit} className=\"space-y-4\">\r\n+            <div>\r\n+              <label className=\"block font-semibold mb-1\">Username:</label>\r\n+              <input\r\n+                className=\"border p-2 rounded w-full\"\r\n+                value={editForm.username}\r\n+                onChange={e => setEditForm(f => ({ ...f, username: e.target.value }))}\r\n+                required\r\n+              />\r\n+            </div>\r\n+            <div>\r\n+              <label className=\"block font-semibold mb-1\">Email:</label>\r\n+              <input\r\n+                className=\"border p-2 rounded w-full\"\r\n+                value={editForm.email}\r\n+                onChange={e => setEditForm(f => ({ ...f, email: e.target.value }))}\r\n+                required\r\n+              />\r\n+            </div>\r\n+            <div>\r\n+              <label className=\"block font-semibold mb-1\">Role:</label>\r\n+              <select\r\n+                className=\"border p-2 rounded w-full\"\r\n+                value={editForm.role}\r\n+                onChange={e => setEditForm(f => ({ ...f, role: e.target.value }))}\r\n+              >\r\n+                <option value=\"user\">User</option>\r\n+                <option value=\"admin\">Admin</option>\r\n+                <option value=\"cashier\">Cashier</option>\r\n+              </select>\r\n+            </div>\r\n+            <div className=\"flex gap-3 mt-4\">\r\n+              <button\r\n+                type=\"submit\"\r\n+                className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\"\r\n+                disabled={loading}\r\n+              >\r\n+                {loading ? \"Saving...\" : \"Save\"}\r\n+              </button>\r\n+              <button\r\n+                type=\"button\"\r\n+                className=\"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded\"\r\n+                onClick={() => setEditMode(false)}\r\n+                disabled={loading}\r\n+              >\r\n+                Cancel\r\n+              </button>\r\n+            </div>\r\n+          </form>\r\n+        ) : (\r\n+          <>\r\n+            <div className=\"mb-3\"><strong>Username:</strong> {user.username}</div>\r\n+            <div className=\"mb-3\"><strong>Email:</strong> {user.email}</div>\r\n+            <div className=\"mb-3\"><strong>Role:</strong> {user.role}</div>\r\n+            <div className=\"mb-3\">\r\n+              <strong>Status:</strong>{\" \"}\r\n+              <span className={`px-3 py-1 text-xs font-semibold rounded-full ${\r\n+                user.blocked ? \"bg-red-100 text-red-600\" : \"bg-green-100 text-green-600\"\r\n+              }`}>\r\n+                {user.blocked ? \"Blocked\" : \"Active\"}\r\n+              </span>\r\n+            </div>\r\n+\r\n+            <div className=\"flex gap-3 mt-6\">\r\n+              <button\r\n+                className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\"\r\n+                onClick={() => setEditMode(true)}\r\n+              >\r\n+                Edit\r\n+              </button>\r\n+              <button\r\n+                className={`px-4 py-2 rounded text-white ${\r\n+                  user.blocked ? \"bg-green-600 hover:bg-green-700\" : \"bg-yellow-500 hover:bg-yellow-600\"\r\n+                }`}\r\n+                onClick={handleBlockToggle}\r\n+                disabled={loading}\r\n+              >\r\n+                {user.blocked ? \"Unblock\" : \"Block\"}\r\n+              </button>\r\n+              <button\r\n+                className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded\"\r\n+                onClick={handleDelete}\r\n+                disabled={loading}\r\n+              >\r\n+                Delete\r\n+              </button>\r\n+            </div>\r\n+          </>\r\n+        )}\r\n+      </div>\r\n     </AdminLayout>\r\n   );\r\n };\r\n \r\n-export default UserDetail;\n+export default UserDetail;\r\n"
                },
                {
                    "date": 1751544417721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,58 +68,67 @@\n     await fetchUser();\r\n     setLoading(false);\r\n   };\r\n \r\n-  if (!user) return <AdminLayout><div className=\"text-center py-8\">Loading user data...</div></AdminLayout>;\r\n+  if (!user) {\r\n+    return (\r\n+      <AdminLayout>\r\n+        <div className=\"text-center py-12 text-xl text-gray-600\">Loading user details...</div>\r\n+      </AdminLayout>\r\n+    );\r\n+  }\r\n \r\n   return (\r\n     <AdminLayout>\r\n-      <h1 className=\"text-3xl font-bold mb-6 text-gray-800\">User Details</h1>\r\n+      <div className=\"bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl p-6 mb-8 shadow-inner\">\r\n+        <h1 className=\"text-4xl font-extrabold text-blue-800\">User Details</h1>\r\n+      </div>\r\n \r\n-      <div className=\"bg-white p-6 rounded-xl shadow-md\">\r\n+      <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n         {editMode ? (\r\n-          <form onSubmit={handleEdit} className=\"space-y-4\">\r\n+          <form onSubmit={handleEdit} className=\"space-y-6\">\r\n             <div>\r\n-              <label className=\"block font-semibold mb-1\">Username:</label>\r\n+              <label className=\"block text-gray-700 font-semibold mb-1\">Username</label>\r\n               <input\r\n-                className=\"border p-2 rounded w-full\"\r\n+                className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n                 value={editForm.username}\r\n                 onChange={e => setEditForm(f => ({ ...f, username: e.target.value }))}\r\n                 required\r\n               />\r\n             </div>\r\n             <div>\r\n-              <label className=\"block font-semibold mb-1\">Email:</label>\r\n+              <label className=\"block text-gray-700 font-semibold mb-1\">Email</label>\r\n               <input\r\n-                className=\"border p-2 rounded w-full\"\r\n+                className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n                 value={editForm.email}\r\n                 onChange={e => setEditForm(f => ({ ...f, email: e.target.value }))}\r\n                 required\r\n               />\r\n             </div>\r\n             <div>\r\n-              <label className=\"block font-semibold mb-1\">Role:</label>\r\n+              <label className=\"block text-gray-700 font-semibold mb-1\">Role</label>\r\n               <select\r\n-                className=\"border p-2 rounded w-full\"\r\n+                className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n                 value={editForm.role}\r\n                 onChange={e => setEditForm(f => ({ ...f, role: e.target.value }))}\r\n               >\r\n                 <option value=\"user\">User</option>\r\n                 <option value=\"admin\">Admin</option>\r\n                 <option value=\"cashier\">Cashier</option>\r\n               </select>\r\n             </div>\r\n-            <div className=\"flex gap-3 mt-4\">\r\n+\r\n+            <div className=\"flex gap-3 justify-end\">\r\n               <button\r\n                 type=\"submit\"\r\n-                className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\"\r\n+                className=\"bg-blue-500 hover:bg-blue-600 text-white px-5 py-2 rounded-lg shadow-md\"\r\n                 disabled={loading}\r\n               >\r\n                 {loading ? \"Saving...\" : \"Save\"}\r\n               </button>\r\n               <button\r\n                 type=\"button\"\r\n-                className=\"bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded\"\r\n+                className=\"bg-gray-200 hover:bg-gray-300 px-5 py-2 rounded-lg\"\r\n                 onClick={() => setEditMode(false)}\r\n                 disabled={loading}\r\n               >\r\n                 Cancel\r\n@@ -127,38 +136,42 @@\n             </div>\r\n           </form>\r\n         ) : (\r\n           <>\r\n-            <div className=\"mb-3\"><strong>Username:</strong> {user.username}</div>\r\n-            <div className=\"mb-3\"><strong>Email:</strong> {user.email}</div>\r\n-            <div className=\"mb-3\"><strong>Role:</strong> {user.role}</div>\r\n-            <div className=\"mb-3\">\r\n-              <strong>Status:</strong>{\" \"}\r\n-              <span className={`px-3 py-1 text-xs font-semibold rounded-full ${\r\n-                user.blocked ? \"bg-red-100 text-red-600\" : \"bg-green-100 text-green-600\"\r\n-              }`}>\r\n-                {user.blocked ? \"Blocked\" : \"Active\"}\r\n-              </span>\r\n+            <div className=\"space-y-4 text-lg\">\r\n+              <div><span className=\"font-semibold\">Username:</span> {user.username}</div>\r\n+              <div><span className=\"font-semibold\">Email:</span> {user.email}</div>\r\n+              <div><span className=\"font-semibold\">Role:</span> {user.role}</div>\r\n+              <div>\r\n+                <span className=\"font-semibold\">Status:</span>{\" \"}\r\n+                <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${\r\n+                  user.blocked ? \"bg-red-100 text-red-600\" : \"bg-green-100 text-green-600\"\r\n+                }`}>\r\n+                  {user.blocked ? \"Blocked\" : \"Active\"}\r\n+                </span>\r\n+              </div>\r\n             </div>\r\n \r\n-            <div className=\"flex gap-3 mt-6\">\r\n+            <div className=\"flex gap-4 mt-8\">\r\n               <button\r\n-                className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded\"\r\n+                className=\"bg-blue-500 hover:bg-blue-600 text-white px-5 py-2 rounded-lg shadow-md\"\r\n                 onClick={() => setEditMode(true)}\r\n               >\r\n                 Edit\r\n               </button>\r\n               <button\r\n-                className={`px-4 py-2 rounded text-white ${\r\n-                  user.blocked ? \"bg-green-600 hover:bg-green-700\" : \"bg-yellow-500 hover:bg-yellow-600\"\r\n+                className={`px-5 py-2 rounded-lg text-white shadow-md ${\r\n+                  user.blocked\r\n+                    ? \"bg-green-600 hover:bg-green-700\"\r\n+                    : \"bg-yellow-500 hover:bg-yellow-600\"\r\n                 }`}\r\n                 onClick={handleBlockToggle}\r\n                 disabled={loading}\r\n               >\r\n                 {user.blocked ? \"Unblock\" : \"Block\"}\r\n               </button>\r\n               <button\r\n-                className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded\"\r\n+                className=\"bg-red-500 hover:bg-red-600 text-white px-5 py-2 rounded-lg shadow-md\"\r\n                 onClick={handleDelete}\r\n                 disabled={loading}\r\n               >\r\n                 Delete\r\n@@ -170,5 +183,5 @@\n     </AdminLayout>\r\n   );\r\n };\r\n \r\n-export default UserDetail;\n\\ No newline at end of file\n+export default UserDetail;\r\n"
                },
                {
                    "date": 1751598949818,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,17 @@\n const UserDetail = () => {\r\n   const { id } = useParams();\r\n   const [user, setUser] = useState(null);\r\n   const [editMode, setEditMode] = useState(false);\r\n-  const [editForm, setEditForm] = useState({ username: \"\", email: \"\", role: \"\" });\r\n+  const [editForm, setEditForm] = useState({ \r\n+    username: \"\", \r\n+    email: \"\", \r\n+    role: \"\",\r\n+    firstName: \"\",\r\n+    lastName: \"\",\r\n+    dob: \"\",\r\n+    phone: \"\"\r\n+  });\r\n   const [loading, setLoading] = useState(false);\r\n   const token = localStorage.getItem(\"token\");\r\n   const navigate = useNavigate();\r\n \r\n"
                },
                {
                    "date": 1751598967664,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,8 +28,12 @@\n     setEditForm({\r\n       username: data.user.username,\r\n       email: data.user.email,\r\n       role: data.user.role,\r\n+      firstName: data.user.firstName || \"\",\r\n+      lastName: data.user.lastName || \"\",\r\n+      dob: data.user.dob || \"\",\r\n+      phone: data.user.phone || \"\",\r\n     });\r\n   };\r\n \r\n   useEffect(() => {\r\n@@ -93,38 +97,73 @@\n \r\n       <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n         {editMode ? (\r\n           <form onSubmit={handleEdit} className=\"space-y-6\">\r\n-            <div>\r\n-              <label className=\"block text-gray-700 font-semibold mb-1\">Username</label>\r\n-              <input\r\n-                className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                value={editForm.username}\r\n-                onChange={e => setEditForm(f => ({ ...f, username: e.target.value }))}\r\n-                required\r\n-              />\r\n+            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-semibold mb-1\">Username</label>\r\n+                <input\r\n+                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+                  value={editForm.username}\r\n+                  onChange={e => setEditForm(f => ({ ...f, username: e.target.value }))}\r\n+                  required\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-semibold mb-1\">Email</label>\r\n+                <input\r\n+                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+                  value={editForm.email}\r\n+                  onChange={e => setEditForm(f => ({ ...f, email: e.target.value }))}\r\n+                  required\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-semibold mb-1\">First Name</label>\r\n+                <input\r\n+                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+                  value={editForm.firstName}\r\n+                  onChange={e => setEditForm(f => ({ ...f, firstName: e.target.value }))}\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-semibold mb-1\">Last Name</label>\r\n+                <input\r\n+                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+                  value={editForm.lastName}\r\n+                  onChange={e => setEditForm(f => ({ ...f, lastName: e.target.value }))}\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-semibold mb-1\">Date of Birth</label>\r\n+                <input\r\n+                  type=\"date\"\r\n+                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+                  value={editForm.dob}\r\n+                  onChange={e => setEditForm(f => ({ ...f, dob: e.target.value }))}\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-semibold mb-1\">Phone</label>\r\n+                <input\r\n+                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+                  value={editForm.phone}\r\n+                  onChange={e => setEditForm(f => ({ ...f, phone: e.target.value }))}\r\n+                />\r\n+              </div>\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-semibold mb-1\">Role</label>\r\n+                <select\r\n+                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+                  value={editForm.role}\r\n+                  onChange={e => setEditForm(f => ({ ...f, role: e.target.value }))}\r\n+                >\r\n+                  <option value=\"user\">User</option>\r\n+                  <option value=\"admin\">Admin</option>\r\n+                  <option value=\"cashier\">Cashier</option>\r\n+                </select>\r\n+              </div>\r\n             </div>\r\n-            <div>\r\n-              <label className=\"block text-gray-700 font-semibold mb-1\">Email</label>\r\n-              <input\r\n-                className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                value={editForm.email}\r\n-                onChange={e => setEditForm(f => ({ ...f, email: e.target.value }))}\r\n-                required\r\n-              />\r\n-            </div>\r\n-            <div>\r\n-              <label className=\"block text-gray-700 font-semibold mb-1\">Role</label>\r\n-              <select\r\n-                className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                value={editForm.role}\r\n-                onChange={e => setEditForm(f => ({ ...f, role: e.target.value }))}\r\n-              >\r\n-                <option value=\"user\">User</option>\r\n-                <option value=\"admin\">Admin</option>\r\n-                <option value=\"cashier\">Cashier</option>\r\n-              </select>\r\n-            </div>\r\n \r\n             <div className=\"flex gap-3 justify-end\">\r\n               <button\r\n                 type=\"submit\"\r\n"
                },
                {
                    "date": 1751598979389,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -183,20 +183,28 @@\n             </div>\r\n           </form>\r\n         ) : (\r\n           <>\r\n-            <div className=\"space-y-4 text-lg\">\r\n-              <div><span className=\"font-semibold\">Username:</span> {user.username}</div>\r\n-              <div><span className=\"font-semibold\">Email:</span> {user.email}</div>\r\n-              <div><span className=\"font-semibold\">Role:</span> {user.role}</div>\r\n-              <div>\r\n-                <span className=\"font-semibold\">Status:</span>{\" \"}\r\n-                <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${\r\n-                  user.blocked ? \"bg-red-100 text-red-600\" : \"bg-green-100 text-green-600\"\r\n-                }`}>\r\n-                  {user.blocked ? \"Blocked\" : \"Active\"}\r\n-                </span>\r\n+            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n+              <div className=\"space-y-4 text-lg\">\r\n+                <div><span className=\"font-semibold\">Username:</span> {user.username}</div>\r\n+                <div><span className=\"font-semibold\">Email:</span> {user.email}</div>\r\n+                <div><span className=\"font-semibold\">First Name:</span> {user.firstName || \"Not provided\"}</div>\r\n+                <div><span className=\"font-semibold\">Last Name:</span> {user.lastName || \"Not provided\"}</div>\r\n               </div>\r\n+              <div className=\"space-y-4 text-lg\">\r\n+                <div><span className=\"font-semibold\">Date of Birth:</span> {user.dob ? new Date(user.dob).toLocaleDateString() : \"Not provided\"}</div>\r\n+                <div><span className=\"font-semibold\">Phone:</span> {user.phone || \"Not provided\"}</div>\r\n+                <div><span className=\"font-semibold\">Role:</span> <span className=\"capitalize\">{user.role}</span></div>\r\n+                <div>\r\n+                  <span className=\"font-semibold\">Status:</span>{\" \"}\r\n+                  <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${\r\n+                    user.blocked ? \"bg-red-100 text-red-600\" : \"bg-green-100 text-green-600\"\r\n+                  }`}>\r\n+                    {user.blocked ? \"Blocked\" : \"Active\"}\r\n+                  </span>\r\n+                </div>\r\n+              </div>\r\n             </div>\r\n \r\n             <div className=\"flex gap-4 mt-8\">\r\n               <button\r\n"
                },
                {
                    "date": 1751599140834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,16 +5,16 @@\n const UserDetail = () => {\r\n   const { id } = useParams();\r\n   const [user, setUser] = useState(null);\r\n   const [editMode, setEditMode] = useState(false);\r\n-  const [editForm, setEditForm] = useState({ \r\n-    username: \"\", \r\n-    email: \"\", \r\n+  const [editForm, setEditForm] = useState({\r\n+    username: \"\",\r\n+    email: \"\",\r\n     role: \"\",\r\n     firstName: \"\",\r\n     lastName: \"\",\r\n     dob: \"\",\r\n-    phone: \"\"\r\n+    phone: \"\",\r\n   });\r\n   const [loading, setLoading] = useState(false);\r\n   const token = localStorage.getItem(\"token\");\r\n   const navigate = useNavigate();\r\n@@ -83,99 +83,68 @@\n \r\n   if (!user) {\r\n     return (\r\n       <AdminLayout>\r\n-        <div className=\"text-center py-12 text-xl text-gray-600\">Loading user details...</div>\r\n+        <div className=\"text-center py-12 text-xl text-gray-600 animate-pulse\">Loading user details...</div>\r\n       </AdminLayout>\r\n     );\r\n   }\r\n \r\n   return (\r\n     <AdminLayout>\r\n-      <div className=\"bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl p-6 mb-8 shadow-inner\">\r\n-        <h1 className=\"text-4xl font-extrabold text-blue-800\">User Details</h1>\r\n+      <div className=\"bg-gradient-to-br from-indigo-400 via-purple-400 to-pink-400 text-white rounded-3xl p-8 mb-10 shadow-lg\">\r\n+        <h1 className=\"text-5xl font-black tracking-tight drop-shadow-lg\">👤 User Details</h1>\r\n       </div>\r\n \r\n-      <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\r\n+      <div className=\"bg-white p-10 rounded-3xl shadow-2xl space-y-8 transition-all duration-300 hover:shadow-[0_20px_50px_rgba(8,_112,_184,_0.7)]\">\r\n+\r\n         {editMode ? (\r\n-          <form onSubmit={handleEdit} className=\"space-y-6\">\r\n-            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n+          <form onSubmit={handleEdit} className=\"space-y-8\">\r\n+            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n+              {[\r\n+                { label: \"Username\", value: editForm.username, key: \"username\" },\r\n+                { label: \"Email\", value: editForm.email, key: \"email\" },\r\n+                { label: \"First Name\", value: editForm.firstName, key: \"firstName\" },\r\n+                { label: \"Last Name\", value: editForm.lastName, key: \"lastName\" },\r\n+                { label: \"Date of Birth\", value: editForm.dob, key: \"dob\", type: \"date\" },\r\n+                { label: \"Phone\", value: editForm.phone, key: \"phone\" },\r\n+              ].map(({ label, value, key, type }) => (\r\n+                <div key={key}>\r\n+                  <label className=\"block text-gray-700 font-medium mb-2\">{label}</label>\r\n+                  <input\r\n+                    type={type || \"text\"}\r\n+                    className=\"border border-gray-300 bg-gray-50 p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                    value={value}\r\n+                    onChange={(e) => setEditForm((f) => ({ ...f, [key]: e.target.value }))}\r\n+                    required={[\"username\", \"email\"].includes(key)}\r\n+                  />\r\n+                </div>\r\n+              ))}\r\n               <div>\r\n-                <label className=\"block text-gray-700 font-semibold mb-1\">Username</label>\r\n-                <input\r\n-                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                  value={editForm.username}\r\n-                  onChange={e => setEditForm(f => ({ ...f, username: e.target.value }))}\r\n-                  required\r\n-                />\r\n-              </div>\r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-semibold mb-1\">Email</label>\r\n-                <input\r\n-                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                  value={editForm.email}\r\n-                  onChange={e => setEditForm(f => ({ ...f, email: e.target.value }))}\r\n-                  required\r\n-                />\r\n-              </div>\r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-semibold mb-1\">First Name</label>\r\n-                <input\r\n-                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                  value={editForm.firstName}\r\n-                  onChange={e => setEditForm(f => ({ ...f, firstName: e.target.value }))}\r\n-                />\r\n-              </div>\r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-semibold mb-1\">Last Name</label>\r\n-                <input\r\n-                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                  value={editForm.lastName}\r\n-                  onChange={e => setEditForm(f => ({ ...f, lastName: e.target.value }))}\r\n-                />\r\n-              </div>\r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-semibold mb-1\">Date of Birth</label>\r\n-                <input\r\n-                  type=\"date\"\r\n-                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                  value={editForm.dob}\r\n-                  onChange={e => setEditForm(f => ({ ...f, dob: e.target.value }))}\r\n-                />\r\n-              </div>\r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-semibold mb-1\">Phone</label>\r\n-                <input\r\n-                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n-                  value={editForm.phone}\r\n-                  onChange={e => setEditForm(f => ({ ...f, phone: e.target.value }))}\r\n-                />\r\n-              </div>\r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-semibold mb-1\">Role</label>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">Role</label>\r\n                 <select\r\n-                  className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\r\n+                  className=\"border border-gray-300 bg-gray-50 p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n                   value={editForm.role}\r\n-                  onChange={e => setEditForm(f => ({ ...f, role: e.target.value }))}\r\n+                  onChange={(e) => setEditForm((f) => ({ ...f, role: e.target.value }))}\r\n                 >\r\n                   <option value=\"user\">User</option>\r\n                   <option value=\"admin\">Admin</option>\r\n                   <option value=\"cashier\">Cashier</option>\r\n                 </select>\r\n               </div>\r\n             </div>\r\n \r\n-            <div className=\"flex gap-3 justify-end\">\r\n+            <div className=\"flex gap-4 justify-end\">\r\n               <button\r\n                 type=\"submit\"\r\n-                className=\"bg-blue-500 hover:bg-blue-600 text-white px-5 py-2 rounded-lg shadow-md\"\r\n+                className=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg\"\r\n                 disabled={loading}\r\n               >\r\n-                {loading ? \"Saving...\" : \"Save\"}\r\n+                {loading ? \"Saving...\" : \"Save Changes\"}\r\n               </button>\r\n               <button\r\n                 type=\"button\"\r\n-                className=\"bg-gray-200 hover:bg-gray-300 px-5 py-2 rounded-lg\"\r\n+                className=\"bg-gray-200 hover:bg-gray-300 px-6 py-3 rounded-xl transition-all duration-300\"\r\n                 onClick={() => setEditMode(false)}\r\n                 disabled={loading}\r\n               >\r\n                 Cancel\r\n@@ -183,21 +152,21 @@\n             </div>\r\n           </form>\r\n         ) : (\r\n           <>\r\n-            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n-              <div className=\"space-y-4 text-lg\">\r\n-                <div><span className=\"font-semibold\">Username:</span> {user.username}</div>\r\n-                <div><span className=\"font-semibold\">Email:</span> {user.email}</div>\r\n-                <div><span className=\"font-semibold\">First Name:</span> {user.firstName || \"Not provided\"}</div>\r\n-                <div><span className=\"font-semibold\">Last Name:</span> {user.lastName || \"Not provided\"}</div>\r\n+            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 text-lg\">\r\n+              <div className=\"space-y-5\">\r\n+                <div><span className=\"font-semibold text-gray-600\">Username:</span> {user.username}</div>\r\n+                <div><span className=\"font-semibold text-gray-600\">Email:</span> {user.email}</div>\r\n+                <div><span className=\"font-semibold text-gray-600\">First Name:</span> {user.firstName || \"Not provided\"}</div>\r\n+                <div><span className=\"font-semibold text-gray-600\">Last Name:</span> {user.lastName || \"Not provided\"}</div>\r\n               </div>\r\n-              <div className=\"space-y-4 text-lg\">\r\n-                <div><span className=\"font-semibold\">Date of Birth:</span> {user.dob ? new Date(user.dob).toLocaleDateString() : \"Not provided\"}</div>\r\n-                <div><span className=\"font-semibold\">Phone:</span> {user.phone || \"Not provided\"}</div>\r\n-                <div><span className=\"font-semibold\">Role:</span> <span className=\"capitalize\">{user.role}</span></div>\r\n+              <div className=\"space-y-5\">\r\n+                <div><span className=\"font-semibold text-gray-600\">Date of Birth:</span> {user.dob ? new Date(user.dob).toLocaleDateString() : \"Not provided\"}</div>\r\n+                <div><span className=\"font-semibold text-gray-600\">Phone:</span> {user.phone || \"Not provided\"}</div>\r\n+                <div><span className=\"font-semibold text-gray-600\">Role:</span> <span className=\"capitalize\">{user.role}</span></div>\r\n                 <div>\r\n-                  <span className=\"font-semibold\">Status:</span>{\" \"}\r\n+                  <span className=\"font-semibold text-gray-600\">Status:</span>{\" \"}\r\n                   <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${\r\n                     user.blocked ? \"bg-red-100 text-red-600\" : \"bg-green-100 text-green-600\"\r\n                   }`}>\r\n                     {user.blocked ? \"Blocked\" : \"Active\"}\r\n@@ -205,28 +174,26 @@\n                 </div>\r\n               </div>\r\n             </div>\r\n \r\n-            <div className=\"flex gap-4 mt-8\">\r\n+            <div className=\"flex flex-wrap gap-4 mt-10\">\r\n               <button\r\n-                className=\"bg-blue-500 hover:bg-blue-600 text-white px-5 py-2 rounded-lg shadow-md\"\r\n+                className=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-xl shadow-lg transition-all duration-300\"\r\n                 onClick={() => setEditMode(true)}\r\n               >\r\n                 Edit\r\n               </button>\r\n               <button\r\n-                className={`px-5 py-2 rounded-lg text-white shadow-md ${\r\n-                  user.blocked\r\n-                    ? \"bg-green-600 hover:bg-green-700\"\r\n-                    : \"bg-yellow-500 hover:bg-yellow-600\"\r\n+                className={`px-6 py-3 rounded-xl text-white shadow-lg transition-all duration-300 ${\r\n+                  user.blocked ? \"bg-green-500 hover:bg-green-600\" : \"bg-yellow-500 hover:bg-yellow-600\"\r\n                 }`}\r\n                 onClick={handleBlockToggle}\r\n                 disabled={loading}\r\n               >\r\n                 {user.blocked ? \"Unblock\" : \"Block\"}\r\n               </button>\r\n               <button\r\n-                className=\"bg-red-500 hover:bg-red-600 text-white px-5 py-2 rounded-lg shadow-md\"\r\n+                className=\"bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-xl shadow-lg transition-all duration-300\"\r\n                 onClick={handleDelete}\r\n                 disabled={loading}\r\n               >\r\n                 Delete\r\n"
                }
            ],
            "date": 1751537616220,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport AdminLayout from \"../components/AdminLayout\";\r\n\r\nconst UserDetail = () => {\r\n  const { id } = useParams();\r\n  const [user, setUser] = useState(null);\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/users/${id}`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setUser(data.user));\r\n  }, [id]);\r\n\r\n  if (!user) return <AdminLayout>Loading...</AdminLayout>;\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <h1 className=\"text-2xl font-bold mb-4\">User Detail</h1>\r\n      <div className=\"mb-2\"><strong>Username:</strong> {user.username}</div>\r\n      <div className=\"mb-2\"><strong>Email:</strong> {user.email}</div>\r\n      <div className=\"mb-2\"><strong>Role:</strong> {user.role}</div>\r\n      <div className=\"mb-2\"><strong>Status:</strong> {user.blocked ? \"Blocked\" : \"Active\"}</div>\r\n      {/* Add more fields as needed */}\r\n    </AdminLayout>\r\n  );\r\n};\r\n\r\nexport default UserDetail;"
        }
    ]
}