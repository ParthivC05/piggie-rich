{
    "sourceFile": "src/admin/pages/UserList.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1751537598253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1751537598253,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport AdminLayout from \"../components/AdminLayout\";\r\n\r\nconst UserList = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const token = localStorage.getItem(\"token\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/users`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setUsers(data.users || []));\r\n  }, []);\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <h1 className=\"text-2xl font-bold mb-6\">Users</h1>\r\n      <table className=\"w-full border\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"border px-2 py-1\">Username</th>\r\n            <th className=\"border px-2 py-1\">Email</th>\r\n            <th className=\"border px-2 py-1\">Role</th>\r\n            <th className=\"border px-2 py-1\">Status</th>\r\n            <th className=\"border px-2 py-1\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((u) => (\r\n            <tr key={u._id}>\r\n              <td className=\"border px-2 py-1\">{u.username}</td>\r\n              <td className=\"border px-2 py-1\">{u.email}</td>\r\n              <td className=\"border px-2 py-1\">{u.role}</td>\r\n              <td className=\"border px-2 py-1\">{u.blocked ? \"Blocked\" : \"Active\"}</td>\r\n              <td className=\"border px-2 py-1\">\r\n                <button\r\n                  onClick={() => navigate(`/admin/users/${u._id}`)}\r\n                  className=\"text-blue-600 underline\"\r\n                >\r\n                  View\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </AdminLayout>\r\n  );\r\n};\r\n\r\nexport default UserList;"
        }
    ]
}