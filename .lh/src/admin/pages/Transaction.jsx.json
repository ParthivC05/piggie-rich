{
    "sourceFile": "src/admin/pages/Transaction.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1751537644713,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751544637599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,66 +2,136 @@\n import AdminLayout from \"../components/AdminLayout\";\r\n \r\n const Transactions = () => {\r\n   const [transactions, setTransactions] = useState([]);\r\n-  const [filter, setFilter] = useState({ userId: \"\", type: \"\", minAmount: \"\", maxAmount: \"\", startDate: \"\", endDate: \"\" });\r\n+  const [filter, setFilter] = useState({\r\n+    userId: \"\",\r\n+    type: \"\",\r\n+    minAmount: \"\",\r\n+    maxAmount: \"\",\r\n+    startDate: \"\",\r\n+    endDate: \"\",\r\n+  });\r\n   const token = localStorage.getItem(\"token\");\r\n \r\n   const fetchTransactions = async () => {\r\n     const params = new URLSearchParams();\r\n     Object.entries(filter).forEach(([k, v]) => v && params.append(k, v));\r\n-    const res = await fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/transactions?${params.toString()}`, {\r\n-      headers: { Authorization: `Bearer ${token}` }\r\n-    });\r\n+\r\n+    const res = await fetch(\r\n+      `${import.meta.env.VITE_AUTH_API_URL}/admin/transactions?${params.toString()}`,\r\n+      {\r\n+        headers: { Authorization: `Bearer ${token}` },\r\n+      }\r\n+    );\r\n     const data = await res.json();\r\n     setTransactions(data.transactions || []);\r\n   };\r\n \r\n-  useEffect(() => { fetchTransactions(); }, []);\r\n+  useEffect(() => {\r\n+    fetchTransactions();\r\n+  }, []);\r\n \r\n-  const handleFilterChange = e => setFilter({ ...filter, [e.target.name]: e.target.value });\r\n-  const handleFilterSubmit = e => { e.preventDefault(); fetchTransactions(); };\r\n+  const handleFilterChange = (e) =>\r\n+    setFilter({ ...filter, [e.target.name]: e.target.value });\r\n \r\n+  const handleFilterSubmit = (e) => {\r\n+    e.preventDefault();\r\n+    fetchTransactions();\r\n+  };\r\n+\r\n   return (\r\n     <AdminLayout>\r\n-      <h1 className=\"text-2xl font-bold mb-4\">Transactions</h1>\r\n-      <form className=\"flex flex-wrap gap-4 mb-4\" onSubmit={handleFilterSubmit}>\r\n-        <input name=\"userId\" placeholder=\"User ID\" value={filter.userId} onChange={handleFilterChange} className=\"border p-2 rounded\" />\r\n-        <select name=\"type\" value={filter.type} onChange={handleFilterChange} className=\"border p-2 rounded\">\r\n+      <div className=\"bg-gradient-to-br from-green-100 to-green-200 rounded-xl p-6 mb-8 shadow-inner\">\r\n+        <h1 className=\"text-3xl font-extrabold text-green-800\">Transactions</h1>\r\n+      </div>\r\n+\r\n+      <form\r\n+        className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6\"\r\n+        onSubmit={handleFilterSubmit}\r\n+      >\r\n+        <input\r\n+          name=\"userId\"\r\n+          placeholder=\"User ID\"\r\n+          value={filter.userId}\r\n+          onChange={handleFilterChange}\r\n\\ No newline at end of file\n+          className=\"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n+        />\r\n+        <select\r\n+          name=\"type\"\r\n+          value={filter.type}\r\n+          onChange={handleFilterChange}\r\n+          className=\"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n+        >\r\n           <option value=\"\">All Types</option>\r\n           <option value=\"deposit\">Deposit</option>\r\n           <option value=\"redemption\">Redemption</option>\r\n           <option value=\"gameplay\">Gameplay</option>\r\n         </select>\r\n-        <input name=\"minAmount\" type=\"number\" placeholder=\"Min Amount\" value={filter.minAmount} onChange={handleFilterChange} className=\"border p-2 rounded w-32\" />\r\n-        <input name=\"maxAmount\" type=\"number\" placeholder=\"Max Amount\" value={filter.maxAmount} onChange={handleFilterChange} className=\"border p-2 rounded w-32\" />\r\n-        <input name=\"startDate\" type=\"date\" value={filter.startDate} onChange={handleFilterChange} className=\"border p-2 rounded\" />\r\n-        <input name=\"endDate\" type=\"date\" value={filter.endDate} onChange={handleFilterChange} className=\"border p-2 rounded\" />\r\n-        <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded\">Filter</button>\r\n+        <input\r\n+          name=\"minAmount\"\r\n+          type=\"number\"\r\n+          placeholder=\"Min Amount\"\r\n+          value={filter.minAmount}\r\n+          onChange={handleFilterChange}\r\n+          className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n+        />\r\n+        <input\r\n+          name=\"maxAmount\"\r\n+          type=\"number\"\r\n+          placeholder=\"Max Amount\"\r\n+          value={filter.maxAmount}\r\n+          onChange={handleFilterChange}\r\n+          className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n+        />\r\n+        <input\r\n+          name=\"startDate\"\r\n+          type=\"date\"\r\n+          value={filter.startDate}\r\n+          onChange={handleFilterChange}\r\n+          className=\"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n+        />\r\n+        <input\r\n+          name=\"endDate\"\r\n+          type=\"date\"\r\n+          value={filter.endDate}\r\n+          onChange={handleFilterChange}\r\n+          className=\"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n+        />\r\n       </form>\r\n-      <table className=\"w-full border\">\r\n-        <thead>\r\n-          <tr>\r\n-            <th className=\"border px-2 py-1\">User</th>\r\n-            <th className=\"border px-2 py-1\">Type</th>\r\n-            <th className=\"border px-2 py-1\">Game</th>\r\n-            <th className=\"border px-2 py-1\">Amount</th>\r\n-            <th className=\"border px-2 py-1\">Date</th>\r\n-          </tr>\r\n-        </thead>\r\n-        <tbody>\r\n-          {transactions.map(t => (\r\n-            <tr key={t._id}>\r\n-              <td className=\"border px-2 py-1\">{t.userId?.username}</td>\r\n-              <td className=\"border px-2 py-1\">{t.type}</td>\r\n-              <td className=\"border px-2 py-1\">{t.game}</td>\r\n-              <td className=\"border px-2 py-1\">${t.amount}</td>\r\n-              <td className=\"border px-2 py-1\">{new Date(t.createdAt).toLocaleString()}</td>\r\n+\r\n+      <button\r\n+        onClick={handleFilterSubmit}\r\n+        className=\"mb-6 bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition\"\r\n+      >\r\n+        Apply Filters\r\n+      </button>\r\n+\r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"min-w-full bg-white rounded-lg shadow-md overflow-hidden\">\r\n+          <thead>\r\n+            <tr className=\"bg-gray-100 text-gray-700 text-left\">\r\n+              <th className=\"px-4 py-3\">User</th>\r\n+              <th className=\"px-4 py-3\">Type</th>\r\n+              <th className=\"px-4 py-3\">Game</th>\r\n+              <th className=\"px-4 py-3\">Amount</th>\r\n+              <th className=\"px-4 py-3\">Date</th>\r\n             </tr>\r\n-          ))}\r\n-        </tbody>\r\n-      </table>\r\n+          </thead>\r\n+          <tbody>\r\n+            {transactions.map((t, idx) => (\r\n+              <tr key={t._id} className={idx % 2 === 0 ? \"bg-gray-50\" : \"\"}>\r\n+                <td className=\"px-4 py-2\">{t.userId?.username || \"-\"}</td>\r\n+                <td className=\"px-4 py-2 capitalize\">{t.type}</td>\r\n+                <td className=\"px-4 py-2\">{t.game || \"-\"}</td>\r\n+                <td className=\"px-4 py-2 text-green-600\">${t.amount}</td>\r\n+                <td className=\"px-4 py-2\">{new Date(t.createdAt).toLocaleString()}</td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n     </AdminLayout>\r\n   );\r\n };\r\n \r\n-export default Transactions;\n+export default Transactions;\r\n"
                },
                {
                    "date": 1751598597051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,137 +1,1 @@\n-import React, { useEffect, useState } from \"react\";\r\n-import AdminLayout from \"../components/AdminLayout\";\r\n-\r\n-const Transactions = () => {\r\n-  const [transactions, setTransactions] = useState([]);\r\n-  const [filter, setFilter] = useState({\r\n-    userId: \"\",\r\n-    type: \"\",\r\n-    minAmount: \"\",\r\n-    maxAmount: \"\",\r\n-    startDate: \"\",\r\n-    endDate: \"\",\r\n-  });\r\n-  const token = localStorage.getItem(\"token\");\r\n-\r\n-  const fetchTransactions = async () => {\r\n-    const params = new URLSearchParams();\r\n-    Object.entries(filter).forEach(([k, v]) => v && params.append(k, v));\r\n-\r\n-    const res = await fetch(\r\n-      `${import.meta.env.VITE_AUTH_API_URL}/admin/transactions?${params.toString()}`,\r\n-      {\r\n-        headers: { Authorization: `Bearer ${token}` },\r\n-      }\r\n-    );\r\n-    const data = await res.json();\r\n-    setTransactions(data.transactions || []);\r\n-  };\r\n-\r\n-  useEffect(() => {\r\n-    fetchTransactions();\r\n-  }, []);\r\n-\r\n-  const handleFilterChange = (e) =>\r\n-    setFilter({ ...filter, [e.target.name]: e.target.value });\r\n-\r\n-  const handleFilterSubmit = (e) => {\r\n-    e.preventDefault();\r\n-    fetchTransactions();\r\n-  };\r\n-\r\n-  return (\r\n-    <AdminLayout>\r\n-      <div className=\"bg-gradient-to-br from-green-100 to-green-200 rounded-xl p-6 mb-8 shadow-inner\">\r\n-        <h1 className=\"text-3xl font-extrabold text-green-800\">Transactions</h1>\r\n-      </div>\r\n-\r\n-      <form\r\n-        className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6\"\r\n-        onSubmit={handleFilterSubmit}\r\n-      >\r\n-        <input\r\n-          name=\"userId\"\r\n-          placeholder=\"User ID\"\r\n-          value={filter.userId}\r\n-          onChange={handleFilterChange}\r\n-          className=\"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n-        />\r\n-        <select\r\n-          name=\"type\"\r\n-          value={filter.type}\r\n-          onChange={handleFilterChange}\r\n-          className=\"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n-        >\r\n-          <option value=\"\">All Types</option>\r\n-          <option value=\"deposit\">Deposit</option>\r\n-          <option value=\"redemption\">Redemption</option>\r\n-          <option value=\"gameplay\">Gameplay</option>\r\n-        </select>\r\n-        <input\r\n-          name=\"minAmount\"\r\n-          type=\"number\"\r\n-          placeholder=\"Min Amount\"\r\n-          value={filter.minAmount}\r\n-          onChange={handleFilterChange}\r\n-          className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n-        />\r\n-        <input\r\n-          name=\"maxAmount\"\r\n-          type=\"number\"\r\n-          placeholder=\"Max Amount\"\r\n-          value={filter.maxAmount}\r\n-          onChange={handleFilterChange}\r\n-          className=\"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n-        />\r\n-        <input\r\n-          name=\"startDate\"\r\n-          type=\"date\"\r\n-          value={filter.startDate}\r\n-          onChange={handleFilterChange}\r\n-          className=\"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n-        />\r\n-        <input\r\n-          name=\"endDate\"\r\n-          type=\"date\"\r\n-          value={filter.endDate}\r\n-          onChange={handleFilterChange}\r\n-          className=\"border p-2 rounded focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n-        />\r\n-      </form>\r\n-\r\n-      <button\r\n-        onClick={handleFilterSubmit}\r\n-        className=\"mb-6 bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition\"\r\n-      >\r\n-        Apply Filters\r\n-      </button>\r\n-\r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"min-w-full bg-white rounded-lg shadow-md overflow-hidden\">\r\n-          <thead>\r\n-            <tr className=\"bg-gray-100 text-gray-700 text-left\">\r\n-              <th className=\"px-4 py-3\">User</th>\r\n-              <th className=\"px-4 py-3\">Type</th>\r\n-              <th className=\"px-4 py-3\">Game</th>\r\n-              <th className=\"px-4 py-3\">Amount</th>\r\n-              <th className=\"px-4 py-3\">Date</th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody>\r\n-            {transactions.map((t, idx) => (\r\n-              <tr key={t._id} className={idx % 2 === 0 ? \"bg-gray-50\" : \"\"}>\r\n-                <td className=\"px-4 py-2\">{t.userId?.username || \"-\"}</td>\r\n-                <td className=\"px-4 py-2 capitalize\">{t.type}</td>\r\n-                <td className=\"px-4 py-2\">{t.game || \"-\"}</td>\r\n-                <td className=\"px-4 py-2 text-green-600\">${t.amount}</td>\r\n-                <td className=\"px-4 py-2\">{new Date(t.createdAt).toLocaleString()}</td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n-      </div>\r\n-    </AdminLayout>\r\n-  );\r\n-};\r\n-\r\n-export default Transactions;\n\\ No newline at end of file\n+ \n\\ No newline at end of file\n"
                },
                {
                    "date": 1751599547952,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,326 @@\n- \n\\ No newline at end of file\n+import React, { useEffect, useState } from \"react\";\r\n+import AdminLayout from \"../components/AdminLayout\";\r\n+import { FaSearch, FaFilter, FaDownload, FaEye } from \"react-icons/fa\";\r\n+\r\n+const Transactions = () => {\r\n+  const [deposits, setDeposits] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+  const [filter, setFilter] = useState({\r\n+    userId: \"\",\r\n+    game: \"\",\r\n+    minAmount: \"\",\r\n+    maxAmount: \"\",\r\n+    startDate: \"\",\r\n+    endDate: \"\",\r\n+    status: \"\",\r\n+  });\r\n+  const [showFilters, setShowFilters] = useState(false);\r\n+  const token = localStorage.getItem(\"token\");\r\n+\r\n+  const fetchDeposits = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const params = new URLSearchParams();\r\n+      Object.entries(filter).forEach(([k, v]) => v && params.append(k, v));\r\n+\r\n+      const res = await fetch(\r\n+        `${import.meta.env.VITE_AUTH_API_URL}/admin/deposits?${params.toString()}`,\r\n+        {\r\n+          headers: { Authorization: `Bearer ${token}` },\r\n+        }\r\n+      );\r\n+      const data = await res.json();\r\n+      setDeposits(data.deposits || []);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching deposits:\", error);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    fetchDeposits();\r\n+  }, []);\r\n+\r\n+  const handleFilterChange = (e) =>\r\n+    setFilter({ ...filter, [e.target.name]: e.target.value });\r\n+\r\n+  const handleFilterSubmit = (e) => {\r\n+    e.preventDefault();\r\n+    fetchDeposits();\r\n+  };\r\n+\r\n+  const clearFilters = () => {\r\n+    setFilter({\r\n+      userId: \"\",\r\n+      game: \"\",\r\n+      minAmount: \"\",\r\n+      maxAmount: \"\",\r\n+      startDate: \"\",\r\n+      endDate: \"\",\r\n+      status: \"\",\r\n+    });\r\n+    fetchDeposits();\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleString();\r\n+  };\r\n+\r\n+  const formatAmount = (amount) => {\r\n+    return new Intl.NumberFormat('en-US', {\r\n+      style: 'currency',\r\n+      currency: 'USD'\r\n+    }).format(amount);\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      completed: \"bg-green-100 text-green-800\",\r\n+      pending: \"bg-yellow-100 text-yellow-800\",\r\n+      failed: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return statusConfig[status] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n+  return (\r\n+    <AdminLayout>\r\n+      <div className=\"bg-gradient-to-br from-emerald-400 via-teal-400 to-cyan-400 text-white rounded-3xl p-8 mb-10 shadow-lg\">\r\n+        <h1 className=\"text-5xl font-black tracking-tight drop-shadow-lg\">💰 Transactions</h1>\r\n+        <p className=\"text-xl mt-2 opacity-90\">Manage and monitor all deposit transactions</p>\r\n+      </div>\r\n+\r\n+      <div className=\"bg-white p-8 rounded-3xl shadow-2xl space-y-8 transition-all duration-300 hover:shadow-[0_20px_50px_rgba(8,_112,_184,_0.7)]\">\r\n+        \r\n+        {/* Filter Controls */}\r\n+        <div className=\"flex flex-wrap items-center justify-between gap-4\">\r\n+          <div className=\"flex items-center gap-4\">\r\n+            <button\r\n+              onClick={() => setShowFilters(!showFilters)}\r\n+              className=\"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg\"\r\n+            >\r\n+              <FaFilter />\r\n+              {showFilters ? \"Hide Filters\" : \"Show Filters\"}\r\n+            </button>\r\n+            <button\r\n+              onClick={fetchDeposits}\r\n+              className=\"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg\"\r\n+            >\r\n+              <FaSearch />\r\n+              Refresh\r\n+            </button>\r\n+          </div>\r\n+          \r\n+          <div className=\"text-right\">\r\n+            <p className=\"text-lg font-semibold text-gray-700\">\r\n+              Total Transactions: <span className=\"text-purple-600\">{deposits.length}</span>\r\n+            </p>\r\n+            <p className=\"text-sm text-gray-500\">\r\n+              Total Amount: <span className=\"text-green-600 font-semibold\">\r\n+                {formatAmount(deposits.reduce((sum, deposit) => sum + deposit.amount, 0))}\r\n+              </span>\r\n+            </p>\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {/* Filter Form */}\r\n+        {showFilters && (\r\n+          <form onSubmit={handleFilterSubmit} className=\"bg-gray-50 p-6 rounded-2xl space-y-6\">\r\n+            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">User ID</label>\r\n+                <input\r\n+                  name=\"userId\"\r\n+                  placeholder=\"Search by User ID\"\r\n+                  value={filter.userId}\r\n+                  onChange={handleFilterChange}\r\n+                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">Game</label>\r\n+                <input\r\n+                  name=\"game\"\r\n+                  placeholder=\"Search by Game\"\r\n+                  value={filter.game}\r\n+                  onChange={handleFilterChange}\r\n+                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">Min Amount</label>\r\n+                <input\r\n+                  name=\"minAmount\"\r\n+                  type=\"number\"\r\n+                  placeholder=\"Min Amount\"\r\n+                  value={filter.minAmount}\r\n+                  onChange={handleFilterChange}\r\n+                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">Max Amount</label>\r\n+                <input\r\n+                  name=\"maxAmount\"\r\n+                  type=\"number\"\r\n+                  placeholder=\"Max Amount\"\r\n+                  value={filter.maxAmount}\r\n+                  onChange={handleFilterChange}\r\n+                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">Start Date</label>\r\n+                <input\r\n+                  name=\"startDate\"\r\n+                  type=\"date\"\r\n+                  value={filter.startDate}\r\n+                  onChange={handleFilterChange}\r\n+                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">End Date</label>\r\n+                <input\r\n+                  name=\"endDate\"\r\n+                  type=\"date\"\r\n+                  value={filter.endDate}\r\n+                  onChange={handleFilterChange}\r\n+                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                />\r\n+              </div>\r\n+              \r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">Status</label>\r\n+                <select\r\n+                  name=\"status\"\r\n+                  value={filter.status}\r\n+                  onChange={handleFilterChange}\r\n+                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                >\r\n+                  <option value=\"\">All Status</option>\r\n+                  <option value=\"completed\">Completed</option>\r\n+                  <option value=\"pending\">Pending</option>\r\n+                  <option value=\"failed\">Failed</option>\r\n+                </select>\r\n+              </div>\r\n+            </div>\r\n+            \r\n+            <div className=\"flex gap-4 justify-end\">\r\n+              <button\r\n+                type=\"button\"\r\n+                onClick={clearFilters}\r\n+                className=\"bg-gray-200 hover:bg-gray-300 px-6 py-3 rounded-xl transition-all duration-300\"\r\n+              >\r\n+                Clear Filters\r\n+              </button>\r\n+              <button\r\n+                type=\"submit\"\r\n+                className=\"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg\"\r\n+              >\r\n+                Apply Filters\r\n+              </button>\r\n+            </div>\r\n+          </form>\r\n+        )}\r\n+\r\n+        {/* Transactions Table */}\r\n+        <div className=\"overflow-x-auto\">\r\n+          {loading ? (\r\n+            <div className=\"text-center py-12\">\r\n+              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto\"></div>\r\n+              <p className=\"mt-4 text-gray-600\">Loading transactions...</p>\r\n+            </div>\r\n+          ) : deposits.length === 0 ? (\r\n+            <div className=\"text-center py-12\">\r\n+              <div className=\"text-6xl mb-4\">📊</div>\r\n+              <p className=\"text-xl text-gray-600\">No transactions found</p>\r\n+              <p className=\"text-gray-500\">Try adjusting your filters or check back later</p>\r\n+            </div>\r\n+          ) : (\r\n+            <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n+              <table className=\"min-w-full\">\r\n+                <thead className=\"bg-gradient-to-r from-purple-600 to-purple-700 text-white\">\r\n+                  <tr>\r\n+                    <th className=\"px-6 py-4 text-left font-semibold\">User</th>\r\n+                    <th className=\"px-6 py-4 text-left font-semibold\">Game</th>\r\n+                    <th className=\"px-6 py-4 text-left font-semibold\">Amount</th>\r\n+                    <th className=\"px-6 py-4 text-left font-semibold\">PayPal Order ID</th>\r\n+                    <th className=\"px-6 py-4 text-left font-semibold\">Payer Info</th>\r\n+                    <th className=\"px-6 py-4 text-left font-semibold\">Status</th>\r\n+                    <th className=\"px-6 py-4 text-left font-semibold\">Date</th>\r\n+                    <th className=\"px-6 py-4 text-left font-semibold\">Actions</th>\r\n+                  </tr>\r\n+                </thead>\r\n+                <tbody className=\"divide-y divide-gray-200\">\r\n+                  {deposits.map((deposit, idx) => (\r\n+                    <tr key={deposit._id} className={`hover:bg-gray-50 transition-colors ${idx % 2 === 0 ? 'bg-white' : 'bg-gray-50'}`}>\r\n+                      <td className=\"px-6 py-4\">\r\n+                        <div>\r\n+                          <div className=\"font-semibold text-gray-900\">\r\n+                            {deposit.userId?.username || deposit.gameUsername || \"N/A\"}\r\n+                          </div>\r\n+                          <div className=\"text-sm text-gray-500\">\r\n+                            {deposit.userId?.email || deposit.customerEmail}\r\n+                          </div>\r\n+                          <div className=\"text-xs text-gray-400\">\r\n+                            {deposit.userId?.firstName} {deposit.userId?.lastName}\r\n+                          </div>\r\n+                        </div>\r\n+                      </td>\r\n+                      <td className=\"px-6 py-4\">\r\n+                        <span className=\"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\">\r\n+                          {deposit.game}\r\n+                        </span>\r\n+                      </td>\r\n+                      <td className=\"px-6 py-4\">\r\n+                        <span className=\"font-bold text-green-600 text-lg\">\r\n+                          {formatAmount(deposit.amount)}\r\n+                        </span>\r\n+                      </td>\r\n+                      <td className=\"px-6 py-4\">\r\n+                        <div className=\"text-sm\">\r\n+                          <div className=\"font-mono text-gray-700\">{deposit.paypalOrderId}</div>\r\n+                          <div className=\"text-gray-500\">Phone: {deposit.customerPhone}</div>\r\n+                        </div>\r\n+                      </td>\r\n+                      <td className=\"px-6 py-4\">\r\n+                        <div className=\"text-sm\">\r\n+                          <div className=\"font-semibold\">\r\n+                            {deposit.payer?.name?.given_name} {deposit.payer?.name?.surname}\r\n+                          </div>\r\n+                          <div className=\"text-gray-500\">{deposit.payer?.email_address}</div>\r\n+                          <div className=\"text-gray-400\">{deposit.payer?.address?.country_code}</div>\r\n+                        </div>\r\n+                      </td>\r\n+                      <td className=\"px-6 py-4\">\r\n+                        <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${getStatusBadge(deposit.status)}`}>\r\n+                          {deposit.status}\r\n+                        </span>\r\n+                      </td>\r\n+                      <td className=\"px-6 py-4 text-sm text-gray-600\">\r\n+                        {formatDate(deposit.createdAt)}\r\n+                      </td>\r\n+                      <td className=\"px-6 py-4\">\r\n+                        <button className=\"text-purple-600 hover:text-purple-800 transition-colors\">\r\n+                          <FaEye className=\"text-lg\" />\r\n+                        </button>\r\n+                      </td>\r\n+                    </tr>\r\n+                  ))}\r\n+                </tbody>\r\n+              </table>\r\n+            </div>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+    </AdminLayout>\r\n+  );\r\n+};\r\n+\r\n+export default Transactions; \n\\ No newline at end of file\n"
                },
                {
                    "date": 1751600263278,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -84,18 +84,18 @@\n   };\r\n \r\n   return (\r\n     <AdminLayout>\r\n-      <div className=\"bg-gradient-to-br from-emerald-400 via-teal-400 to-cyan-400 text-white rounded-3xl p-8 mb-10 shadow-lg\">\r\n-        <h1 className=\"text-5xl font-black tracking-tight drop-shadow-lg\">💰 Transactions</h1>\r\n-        <p className=\"text-xl mt-2 opacity-90\">Manage and monitor all deposit transactions</p>\r\n+      <div className=\"bg-gradient-to-br from-emerald-400 via-teal-400 to-cyan-400 text-white rounded-3xl p-6 sm:p-8 mb-8 sm:mb-10 shadow-lg\">\r\n+        <h1 className=\"text-3xl sm:text-5xl font-black tracking-tight drop-shadow-lg\">💰 Transactions</h1>\r\n+        <p className=\"text-base sm:text-xl mt-2 opacity-90\">Manage and monitor all deposit transactions</p>\r\n       </div>\r\n \r\n-      <div className=\"bg-white p-8 rounded-3xl shadow-2xl space-y-8 transition-all duration-300 hover:shadow-[0_20px_50px_rgba(8,_112,_184,_0.7)]\">\r\n-        \r\n+      <div className=\"bg-white p-6 sm:p-8 rounded-3xl shadow-2xl space-y-8 transition-all duration-300 hover:shadow-[0_20px_50px_rgba(8,_112,_184,_0.7)]\">\r\n+\r\n         {/* Filter Controls */}\r\n-        <div className=\"flex flex-wrap items-center justify-between gap-4\">\r\n-          <div className=\"flex items-center gap-4\">\r\n+        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n+          <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4\">\r\n             <button\r\n               onClick={() => setShowFilters(!showFilters)}\r\n               className=\"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg\"\r\n             >\r\n@@ -109,10 +109,10 @@\n               <FaSearch />\r\n               Refresh\r\n             </button>\r\n           </div>\r\n-          \r\n-          <div className=\"text-right\">\r\n+\r\n+          <div className=\"text-left sm:text-right\">\r\n             <p className=\"text-lg font-semibold text-gray-700\">\r\n               Total Transactions: <span className=\"text-purple-600\">{deposits.length}</span>\r\n             </p>\r\n             <p className=\"text-sm text-gray-500\">\r\n@@ -126,77 +126,29 @@\n         {/* Filter Form */}\r\n         {showFilters && (\r\n           <form onSubmit={handleFilterSubmit} className=\"bg-gray-50 p-6 rounded-2xl space-y-6\">\r\n             <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n+              {[\r\n+                { label: \"User ID\", name: \"userId\", type: \"text\", placeholder: \"Search by User ID\" },\r\n+                { label: \"Game\", name: \"game\", type: \"text\", placeholder: \"Search by Game\" },\r\n+                { label: \"Min Amount\", name: \"minAmount\", type: \"number\", placeholder: \"Min Amount\" },\r\n+                { label: \"Max Amount\", name: \"maxAmount\", type: \"number\", placeholder: \"Max Amount\" },\r\n+                { label: \"Start Date\", name: \"startDate\", type: \"date\" },\r\n+                { label: \"End Date\", name: \"endDate\", type: \"date\" },\r\n+              ].map(({ label, name, type, placeholder }) => (\r\n+                <div key={name}>\r\n+                  <label className=\"block text-gray-700 font-medium mb-2\">{label}</label>\r\n+                  <input\r\n+                    name={name}\r\n+                    type={type}\r\n+                    placeholder={placeholder}\r\n+                    value={filter[name]}\r\n+                    onChange={handleFilterChange}\r\n+                    className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                  />\r\n+                </div>\r\n+              ))}\r\n               <div>\r\n-                <label className=\"block text-gray-700 font-medium mb-2\">User ID</label>\r\n-                <input\r\n-                  name=\"userId\"\r\n-                  placeholder=\"Search by User ID\"\r\n-                  value={filter.userId}\r\n-                  onChange={handleFilterChange}\r\n-                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n-                />\r\n-              </div>\r\n-              \r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-medium mb-2\">Game</label>\r\n-                <input\r\n-                  name=\"game\"\r\n-                  placeholder=\"Search by Game\"\r\n-                  value={filter.game}\r\n-                  onChange={handleFilterChange}\r\n-                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n-                />\r\n-              </div>\r\n-              \r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-medium mb-2\">Min Amount</label>\r\n-                <input\r\n-                  name=\"minAmount\"\r\n-                  type=\"number\"\r\n-                  placeholder=\"Min Amount\"\r\n-                  value={filter.minAmount}\r\n-                  onChange={handleFilterChange}\r\n-                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n-                />\r\n-              </div>\r\n-              \r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-medium mb-2\">Max Amount</label>\r\n-                <input\r\n-                  name=\"maxAmount\"\r\n-                  type=\"number\"\r\n-                  placeholder=\"Max Amount\"\r\n-                  value={filter.maxAmount}\r\n-                  onChange={handleFilterChange}\r\n-                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n-                />\r\n-              </div>\r\n-              \r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-medium mb-2\">Start Date</label>\r\n-                <input\r\n-                  name=\"startDate\"\r\n-                  type=\"date\"\r\n-                  value={filter.startDate}\r\n-                  onChange={handleFilterChange}\r\n-                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n-                />\r\n-              </div>\r\n-              \r\n-              <div>\r\n-                <label className=\"block text-gray-700 font-medium mb-2\">End Date</label>\r\n-                <input\r\n-                  name=\"endDate\"\r\n-                  type=\"date\"\r\n-                  value={filter.endDate}\r\n-                  onChange={handleFilterChange}\r\n-                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n-                />\r\n-              </div>\r\n-              \r\n-              <div>\r\n                 <label className=\"block text-gray-700 font-medium mb-2\">Status</label>\r\n                 <select\r\n                   name=\"status\"\r\n                   value={filter.status}\r\n@@ -209,10 +161,10 @@\n                   <option value=\"failed\">Failed</option>\r\n                 </select>\r\n               </div>\r\n             </div>\r\n-            \r\n-            <div className=\"flex gap-4 justify-end\">\r\n+\r\n+            <div className=\"flex flex-col sm:flex-row gap-4 justify-end\">\r\n               <button\r\n                 type=\"button\"\r\n                 onClick={clearFilters}\r\n                 className=\"bg-gray-200 hover:bg-gray-300 px-6 py-3 rounded-xl transition-all duration-300\"\r\n@@ -229,98 +181,80 @@\n           </form>\r\n         )}\r\n \r\n         {/* Transactions Table */}\r\n-        <div className=\"overflow-x-auto\">\r\n+        <div className=\"overflow-x-auto rounded-2xl\">\r\n           {loading ? (\r\n             <div className=\"text-center py-12\">\r\n               <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto\"></div>\r\n-              <p className=\"mt-4 text-gray-600\">Loading transactions...</p>\r\n+              <p className=\"mt-4 text-gray-600 text-sm sm:text-base\">Loading transactions...</p>\r\n             </div>\r\n           ) : deposits.length === 0 ? (\r\n             <div className=\"text-center py-12\">\r\n               <div className=\"text-6xl mb-4\">📊</div>\r\n-              <p className=\"text-xl text-gray-600\">No transactions found</p>\r\n-              <p className=\"text-gray-500\">Try adjusting your filters or check back later</p>\r\n+              <p className=\"text-lg sm:text-xl text-gray-600\">No transactions found</p>\r\n+              <p className=\"text-gray-500 text-sm\">Try adjusting your filters or check back later</p>\r\n             </div>\r\n           ) : (\r\n-            <div className=\"bg-white rounded-2xl shadow-lg overflow-hidden\">\r\n-              <table className=\"min-w-full\">\r\n-                <thead className=\"bg-gradient-to-r from-purple-600 to-purple-700 text-white\">\r\n-                  <tr>\r\n-                    <th className=\"px-6 py-4 text-left font-semibold\">User</th>\r\n-                    <th className=\"px-6 py-4 text-left font-semibold\">Game</th>\r\n-                    <th className=\"px-6 py-4 text-left font-semibold\">Amount</th>\r\n-                    <th className=\"px-6 py-4 text-left font-semibold\">PayPal Order ID</th>\r\n-                    <th className=\"px-6 py-4 text-left font-semibold\">Payer Info</th>\r\n-                    <th className=\"px-6 py-4 text-left font-semibold\">Status</th>\r\n-                    <th className=\"px-6 py-4 text-left font-semibold\">Date</th>\r\n-                    <th className=\"px-6 py-4 text-left font-semibold\">Actions</th>\r\n+            <table className=\"min-w-full\">\r\n+              <thead className=\"bg-gradient-to-r from-purple-600 to-purple-700 text-white text-sm\">\r\n+                <tr>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">User</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Game</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Amount</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">PayPal Order ID</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Payer Info</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Status</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Date</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Actions</th>\r\n+                </tr>\r\n+              </thead>\r\n+              <tbody className=\"divide-y divide-gray-200 text-sm\">\r\n+                {deposits.map((deposit, idx) => (\r\n+                  <tr key={deposit._id} className={`hover:bg-gray-50 transition-colors ${idx % 2 === 0 ? \"bg-white\" : \"bg-gray-50\"}`}>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4 break-words\">\r\n+                      <div className=\"font-semibold text-gray-900\">{deposit.userId?.username || deposit.gameUsername || \"N/A\"}</div>\r\n+                      <div className=\"text-xs text-gray-500\">{deposit.userId?.email || deposit.customerEmail}</div>\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4\">\r\n+                      <span className=\"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\">\r\n+                        {deposit.game}\r\n+                      </span>\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4 font-bold text-green-600 text-base\">\r\n+                      {formatAmount(deposit.amount)}\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4 font-mono text-xs text-gray-700 break-words\">\r\n+                      {deposit.paypalOrderId}\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4\">\r\n+                      <div className=\"font-semibold\">\r\n+                        {deposit.payer?.name?.given_name} {deposit.payer?.name?.surname}\r\n+                      </div>\r\n+                      <div className=\"text-xs text-gray-500\">{deposit.payer?.email_address}</div>\r\n+                      <div className=\"text-xs text-gray-400\">{deposit.payer?.address?.country_code}</div>\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4\">\r\n+                      <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${getStatusBadge(deposit.status)}`}>\r\n+                        {deposit.status}\r\n+                      </span>\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4 text-gray-600 text-xs\">\r\n+                      {formatDate(deposit.createdAt)}\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4\">\r\n+                      <button className=\"text-purple-600 hover:text-purple-800 transition-colors\">\r\n+                        <FaEye className=\"text-lg\" />\r\n+                      </button>\r\n+                    </td>\r\n                   </tr>\r\n-                </thead>\r\n-                <tbody className=\"divide-y divide-gray-200\">\r\n-                  {deposits.map((deposit, idx) => (\r\n-                    <tr key={deposit._id} className={`hover:bg-gray-50 transition-colors ${idx % 2 === 0 ? \"bg-white\" : \"bg-gray-50\"}`}>\r\n-                      <td className=\"px-6 py-4\">\r\n-                        <div>\r\n-                          <div className=\"font-semibold text-gray-900\">\r\n-                            {deposit.userId?.username || deposit.gameUsername || \"N/A\"}\r\n-                          </div>\r\n-                          <div className=\"text-sm text-gray-500\">\r\n-                            {deposit.userId?.email || deposit.customerEmail}\r\n-                          </div>\r\n-                          <div className=\"text-xs text-gray-400\">\r\n\\ No newline at end of file\n-                            {deposit.userId?.firstName} {deposit.userId?.lastName}\r\n-                          </div>\r\n-                        </div>\r\n-                      </td>\r\n-                      <td className=\"px-6 py-4\">\r\n-                        <span className=\"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\">\r\n-                          {deposit.game}\r\n-                        </span>\r\n-                      </td>\r\n-                      <td className=\"px-6 py-4\">\r\n-                        <span className=\"font-bold text-green-600 text-lg\">\r\n-                          {formatAmount(deposit.amount)}\r\n-                        </span>\r\n-                      </td>\r\n-                      <td className=\"px-6 py-4\">\r\n-                        <div className=\"text-sm\">\r\n-                          <div className=\"font-mono text-gray-700\">{deposit.paypalOrderId}</div>\r\n-                          <div className=\"text-gray-500\">Phone: {deposit.customerPhone}</div>\r\n-                        </div>\r\n-                      </td>\r\n-                      <td className=\"px-6 py-4\">\r\n-                        <div className=\"text-sm\">\r\n-                          <div className=\"font-semibold\">\r\n-                            {deposit.payer?.name?.given_name} {deposit.payer?.name?.surname}\r\n-                          </div>\r\n-                          <div className=\"text-gray-500\">{deposit.payer?.email_address}</div>\r\n-                          <div className=\"text-gray-400\">{deposit.payer?.address?.country_code}</div>\r\n-                        </div>\r\n-                      </td>\r\n-                      <td className=\"px-6 py-4\">\r\n-                        <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${getStatusBadge(deposit.status)}`}>\r\n-                          {deposit.status}\r\n-                        </span>\r\n-                      </td>\r\n-                      <td className=\"px-6 py-4 text-sm text-gray-600\">\r\n-                        {formatDate(deposit.createdAt)}\r\n-                      </td>\r\n-                      <td className=\"px-6 py-4\">\r\n-                        <button className=\"text-purple-600 hover:text-purple-800 transition-colors\">\r\n-                          <FaEye className=\"text-lg\" />\r\n-                        </button>\r\n-                      </td>\r\n-                    </tr>\r\n-                  ))}\r\n-                </tbody>\r\n-              </table>\r\n-            </div>\r\n+                ))}\r\n+              </tbody>\r\n+            </table>\r\n           )}\r\n         </div>\r\n       </div>\r\n     </AdminLayout>\r\n   );\r\n };\r\n \r\n-export default Transactions; \n+export default Transactions;\r\n"
                },
                {
                    "date": 1751600899259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -272,9 +272,9 @@\n               </div>\r\n               <div className=\"flex gap-2\">\r\n                 <button\r\n                   onClick={closeModal}\r\n-                  className=\"bg-white text-red bg-opacity-20 hover:bg-opacity-30 p-2 rounded-lg transition-colors\"\r\n+                  className=\"bg-white text-red-600 bg-opacity-20 hover:bg-opacity-30 p-2 rounded-lg transition-colors\"\r\n                   title=\"Close\"\r\n                 >\r\n                   <FaTimes className=\"text-lg\" />\r\n                 </button>\r\n"
                }
            ],
            "date": 1751537644713,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport AdminLayout from \"../components/AdminLayout\";\r\n\r\nconst Transactions = () => {\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [filter, setFilter] = useState({ userId: \"\", type: \"\", minAmount: \"\", maxAmount: \"\", startDate: \"\", endDate: \"\" });\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const fetchTransactions = async () => {\r\n    const params = new URLSearchParams();\r\n    Object.entries(filter).forEach(([k, v]) => v && params.append(k, v));\r\n    const res = await fetch(`${import.meta.env.VITE_AUTH_API_URL}/admin/transactions?${params.toString()}`, {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    const data = await res.json();\r\n    setTransactions(data.transactions || []);\r\n  };\r\n\r\n  useEffect(() => { fetchTransactions(); }, []);\r\n\r\n  const handleFilterChange = e => setFilter({ ...filter, [e.target.name]: e.target.value });\r\n  const handleFilterSubmit = e => { e.preventDefault(); fetchTransactions(); };\r\n\r\n  return (\r\n    <AdminLayout>\r\n      <h1 className=\"text-2xl font-bold mb-4\">Transactions</h1>\r\n      <form className=\"flex flex-wrap gap-4 mb-4\" onSubmit={handleFilterSubmit}>\r\n        <input name=\"userId\" placeholder=\"User ID\" value={filter.userId} onChange={handleFilterChange} className=\"border p-2 rounded\" />\r\n        <select name=\"type\" value={filter.type} onChange={handleFilterChange} className=\"border p-2 rounded\">\r\n          <option value=\"\">All Types</option>\r\n          <option value=\"deposit\">Deposit</option>\r\n          <option value=\"redemption\">Redemption</option>\r\n          <option value=\"gameplay\">Gameplay</option>\r\n        </select>\r\n        <input name=\"minAmount\" type=\"number\" placeholder=\"Min Amount\" value={filter.minAmount} onChange={handleFilterChange} className=\"border p-2 rounded w-32\" />\r\n        <input name=\"maxAmount\" type=\"number\" placeholder=\"Max Amount\" value={filter.maxAmount} onChange={handleFilterChange} className=\"border p-2 rounded w-32\" />\r\n        <input name=\"startDate\" type=\"date\" value={filter.startDate} onChange={handleFilterChange} className=\"border p-2 rounded\" />\r\n        <input name=\"endDate\" type=\"date\" value={filter.endDate} onChange={handleFilterChange} className=\"border p-2 rounded\" />\r\n        <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded\">Filter</button>\r\n      </form>\r\n      <table className=\"w-full border\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"border px-2 py-1\">User</th>\r\n            <th className=\"border px-2 py-1\">Type</th>\r\n            <th className=\"border px-2 py-1\">Game</th>\r\n            <th className=\"border px-2 py-1\">Amount</th>\r\n            <th className=\"border px-2 py-1\">Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {transactions.map(t => (\r\n            <tr key={t._id}>\r\n              <td className=\"border px-2 py-1\">{t.userId?.username}</td>\r\n              <td className=\"border px-2 py-1\">{t.type}</td>\r\n              <td className=\"border px-2 py-1\">{t.game}</td>\r\n              <td className=\"border px-2 py-1\">${t.amount}</td>\r\n              <td className=\"border px-2 py-1\">{new Date(t.createdAt).toLocaleString()}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </AdminLayout>\r\n  );\r\n};\r\n\r\nexport default Transactions;"
        }
    ]
}