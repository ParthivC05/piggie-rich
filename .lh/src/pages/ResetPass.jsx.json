{
    "sourceFile": "src/pages/ResetPass.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1753783261297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753783360702,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n     setMessage(\"\");\r\n \r\n     try {\r\n       const res = await fetch(\r\n-        `${import.meta.env.VITE_API_URL}/reset-password/${token}`,\r\n+        `${import.meta.env.VITE_AUTH_API_URL}/reset-password/${token}`,\r\n         {\r\n           method: \"POST\",\r\n           headers: { \"Content-Type\": \"application/json\" },\r\n           body: JSON.stringify({ password: newPassword }),\r\n"
                },
                {
                    "date": 1753784113695,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,8 @@\n   };\r\n \r\n   return (\r\n     <div className=\"relative min-h-screen flex flex-col lg:flex-row items-center justify-center bg-[#f6f7fb] overflow-hidden px-4\">\r\n-      {/* ... your top images ... */}\r\n \r\n       <form\r\n         onSubmit={handleReset}\r\n         className=\"mt-3 relative z-10 bg-white w-full max-w-xs sm:max-w-sm md:max-w-md p-6 sm:p-8 rounded-xl shadow-lg\"\r\n"
                }
            ],
            "date": 1753783261297,
            "name": "Commit-0",
            "content": "import React, { useState } from \"react\";\r\nimport { FaEye } from \"react-icons/fa\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nfunction ResetPass() {\r\n  const { token } = useParams();\r\n  const navigate = useNavigate();\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleReset = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      return setMessage(\"Passwords do not match\");\r\n    }\r\n\r\n    if (newPassword.length < 6) {\r\n      return setMessage(\"Password must be at least 6 characters long\");\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setMessage(\"\");\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `${import.meta.env.VITE_API_URL}/reset-password/${token}`,\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({ password: newPassword }),\r\n        }\r\n      );\r\n\r\n      const data = await res.json();\r\n      \r\n      if (res.ok) {\r\n        setMessage(data.message || \"Password updated successfully!\");\r\n        setTimeout(() => {\r\n          navigate(\"/login\");\r\n        }, 2000);\r\n      } else {\r\n        setMessage(data.message || \"Failed to reset password. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      setMessage(\"Network error. Please check your connection and try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative min-h-screen flex flex-col lg:flex-row items-center justify-center bg-[#f6f7fb] overflow-hidden px-4\">\r\n      {/* ... your top images ... */}\r\n\r\n      <form\r\n        onSubmit={handleReset}\r\n        className=\"mt-3 relative z-10 bg-white w-full max-w-xs sm:max-w-sm md:max-w-md p-6 sm:p-8 rounded-xl shadow-lg\"\r\n      >\r\n        <h2 className=\"text-2xl font-bold text-center mb-1\">\r\n          Reset Your Password\r\n        </h2>\r\n        <p className=\"text-center text-gray-500 mb-6\">\r\n          Your new password must be different from the previous one.\r\n        </p>\r\n\r\n        <div className=\"relative mb-6\">\r\n          <label\r\n            htmlFor=\"newpassword\"\r\n            className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n          >\r\n            New Password\r\n          </label>\r\n          <input\r\n            id=\"newpassword\"\r\n            name=\"newpassword\"\r\n            type=\"password\"\r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n            placeholder=\"••••••••••\"\r\n            required\r\n            disabled={isLoading}\r\n            className=\"w-full border rounded px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-yellow-400 disabled:opacity-50\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"relative mb-8\">\r\n          <label\r\n            htmlFor=\"conpassword\"\r\n            className=\"block text-sm font-medium text-gray-700 mb-1\"\r\n          >\r\n            Confirm Password\r\n          </label>\r\n          <input\r\n            id=\"conpassword\"\r\n            name=\"conpassword\"\r\n            type=\"password\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n            placeholder=\"••••••••••\"\r\n            required\r\n            disabled={isLoading}\r\n            className=\"w-full border rounded px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-yellow-400 disabled:opacity-50\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n          className=\"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 text-white font-semibold py-2 rounded hover:opacity-90 transition disabled:opacity-50\"\r\n        >\r\n          {isLoading ? \"Updating...\" : \"Update Password\"}\r\n        </button>\r\n\r\n        {message && (\r\n          <p className={`text-center mt-4 ${message.includes('successfully') ? 'text-green-600' : 'text-red-600'}`}>\r\n            {message}\r\n          </p>\r\n        )}\r\n      </form>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetPass;\r\n"
        }
    ]
}