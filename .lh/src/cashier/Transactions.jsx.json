{
    "sourceFile": "src/cashier/Transactions.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1751625144260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751625519563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,13 @@\n import React, { useEffect, useState } from \"react\";\r\n+import { FaEye, FaTimes } from \"react-icons/fa\";\r\n \r\n const API = import.meta.env.VITE_AUTH_API_URL;\r\n \r\n const CashierTransactions = () => {\r\n   const [deposits, setDeposits] = useState([]);\r\n+  const [selectedDeposit, setSelectedDeposit] = useState(null);\r\n+  const [showModal, setShowModal] = useState(false);\r\n   const token = localStorage.getItem(\"token\");\r\n \r\n   useEffect(() => {\r\n     fetch(`${API}/cashier/deposits`, {\r\n@@ -13,35 +16,143 @@\n       .then((res) => res.json())\r\n       .then((data) => setDeposits(data.deposits || []));\r\n   }, []);\r\n \r\n+  const handleViewDetails = (deposit) => {\r\n+    setSelectedDeposit(deposit);\r\n+    setShowModal(true);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setShowModal(false);\r\n+    setSelectedDeposit(null);\r\n+  };\r\n+\r\n   return (\r\n-    <div>\r\n-      <h1 className=\"text-2xl font-bold mb-6\">Transactions</h1>\r\n-      <table className=\"w-full border\">\r\n-        <thead>\r\n-          <tr>\r\n-            <th className=\"border px-2 py-1\">User</th>\r\n-            <th className=\"border px-2 py-1\">Amount</th>\r\n-            <th className=\"border px-2 py-1\">Status</th>\r\n-            <th className=\"border px-2 py-1\">Date</th>\r\n-          </tr>\r\n-        </thead>\r\n-        <tbody>\r\n-          {deposits.map((d) => (\r\n-            <tr key={d._id}>\r\n-              <td className=\"border px-2 py-1\">\r\n-                {d.userId?.username || d.userId?.email || \"N/A\"}\r\n-              </td>\r\n-              <td className=\"border px-2 py-1\">{d.amount}</td>\r\n-              <td className=\"border px-2 py-1\">{d.status}</td>\r\n-              <td className=\"border px-2 py-1\">\r\n-                {new Date(d.createdAt).toLocaleString()}\r\n-              </td>\r\n+    <div className=\"p-6\">\r\n+      <h1 className=\"text-3xl font-bold mb-8 text-gray-800\">Transactions</h1>\r\n+      \r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"min-w-full bg-white rounded-lg shadow-md overflow-hidden\">\r\n+          <thead>\r\n+            <tr className=\"bg-gray-100 text-gray-700 text-left\">\r\n+              <th className=\"px-4 py-3\">User</th>\r\n+              <th className=\"px-4 py-3\">Amount</th>\r\n+              <th className=\"px-4 py-3\">Status</th>\r\n+              <th className=\"px-4 py-3\">Date</th>\r\n+              <th className=\"px-4 py-3\">Actions</th>\r\n             </tr>\r\n-          ))}\r\n-        </tbody>\r\n-      </table>\r\n+          </thead>\r\n+          <tbody>\r\n+            {deposits.map((deposit, idx) => (\r\n+              <tr key={deposit._id} className={idx % 2 === 0 ? \"bg-gray-50\" : \"\"}>\r\n+                <td className=\"px-4 py-3\">\r\n+                  <div>\r\n+                    <div className=\"font-medium\">{deposit.userId?.username || \"N/A\"}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{deposit.userId?.email || \"N/A\"}</div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-4 py-3 font-semibold\">${deposit.amount}</td>\r\n+                <td className=\"px-4 py-3\">\r\n+                  <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n+                    deposit.status === 'completed' ? 'bg-green-100 text-green-600' :\r\n+                    deposit.status === 'pending' ? 'bg-yellow-100 text-yellow-600' :\r\n+                    'bg-red-100 text-red-600'\r\n+                  }`}>\r\n+                    {deposit.status}\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-4 py-3 text-sm\">\r\n+                  {new Date(deposit.createdAt).toLocaleDateString()}\r\n+                </td>\r\n+                <td className=\"px-4 py-3\">\r\n+                  <button\r\n+                    onClick={() => handleViewDetails(deposit)}\r\n+                    className=\"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition cursor-pointer\"\r\n+                  >\r\n+                    <FaEye className=\"inline mr-1\" />\r\n+                    View\r\n+                  </button>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Modal */}\r\n+      {showModal && selectedDeposit && (\r\n+        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n+          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n+            <div className=\"flex justify-between items-center p-6 border-b\">\r\n+              <h3 className=\"text-xl font-semibold text-gray-800\">Transaction Details</h3>\r\n+              <button\r\n+                onClick={closeModal}\r\n+                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n+              >\r\n+                <FaTimes className=\"text-xl\" />\r\n+              </button>\r\n+            </div>\r\n+            \r\n+            <div className=\"p-6 space-y-4\">\r\n+              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">User Information</label>\r\n+                  <div className=\"bg-gray-50 p-3 rounded\">\r\n+                    <div><strong>Name:</strong> {selectedDeposit.userId?.firstName} {selectedDeposit.userId?.lastName}</div>\r\n+                    <div><strong>Username:</strong> {selectedDeposit.userId?.username}</div>\r\n+                    <div><strong>Email:</strong> {selectedDeposit.userId?.email}</div>\r\n+                  </div>\r\n+                </div>\r\n+                \r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Transaction Information</label>\r\n+                  <div className=\"bg-gray-50 p-3 rounded\">\r\n+                    <div><strong>Amount:</strong> ${selectedDeposit.amount}</div>\r\n+                    <div><strong>Status:</strong> \r\n+                      <span className={`ml-2 px-2 py-1 rounded text-xs font-semibold ${\r\n+                        selectedDeposit.status === 'completed' ? 'bg-green-100 text-green-600' :\r\n+                        selectedDeposit.status === 'pending' ? 'bg-yellow-100 text-yellow-600' :\r\n+                        'bg-red-100 text-red-600'\r\n+                      }`}>\r\n+                        {selectedDeposit.status}\r\n+                      </span>\r\n+                    </div>\r\n+                    <div><strong>Date:</strong> {new Date(selectedDeposit.createdAt).toLocaleString()}</div>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+              \r\n+              {selectedDeposit.game && (\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Game Information</label>\r\n+                  <div className=\"bg-gray-50 p-3 rounded\">\r\n+                    <div><strong>Game:</strong> {selectedDeposit.game}</div>\r\n+                  </div>\r\n+                </div>\r\n+              )}\r\n+              \r\n+              {selectedDeposit.notes && (\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Notes</label>\r\n+                  <div className=\"bg-gray-50 p-3 rounded\">\r\n+                    {selectedDeposit.notes}\r\n+                  </div>\r\n+                </div>\r\n+              )}\r\n+            </div>\r\n+            \r\n+            <div className=\"flex justify-end p-6 border-t\">\r\n+              <button\r\n+                onClick={closeModal}\r\n+                className=\"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded transition-colors\"\r\n+              >\r\n+                Close\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1751625858350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,8 @@\n           </tbody>\r\n         </table>\r\n       </div>\r\n \r\n-      {/* Modal */}\r\n       {showModal && selectedDeposit && (\r\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n           <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n             <div className=\"flex justify-between items-center p-6 border-b\">\r\n"
                },
                {
                    "date": 1751625872135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,8 +78,9 @@\n           </tbody>\r\n         </table>\r\n       </div>\r\n \r\n+      {/* Modal */}\r\n       {showModal && selectedDeposit && (\r\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n           <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n             <div className=\"flex justify-between items-center p-6 border-b\">\r\n"
                }
            ],
            "date": 1751625144260,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\n\r\nconst API = import.meta.env.VITE_AUTH_API_URL;\r\n\r\nconst CashierTransactions = () => {\r\n  const [deposits, setDeposits] = useState([]);\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/cashier/deposits`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setDeposits(data.deposits || []));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-2xl font-bold mb-6\">Transactions</h1>\r\n      <table className=\"w-full border\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"border px-2 py-1\">User</th>\r\n            <th className=\"border px-2 py-1\">Amount</th>\r\n            <th className=\"border px-2 py-1\">Status</th>\r\n            <th className=\"border px-2 py-1\">Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {deposits.map((d) => (\r\n            <tr key={d._id}>\r\n              <td className=\"border px-2 py-1\">\r\n                {d.userId?.username || d.userId?.email || \"N/A\"}\r\n              </td>\r\n              <td className=\"border px-2 py-1\">{d.amount}</td>\r\n              <td className=\"border px-2 py-1\">{d.status}</td>\r\n              <td className=\"border px-2 py-1\">\r\n                {new Date(d.createdAt).toLocaleString()}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CashierTransactions;"
        }
    ]
}