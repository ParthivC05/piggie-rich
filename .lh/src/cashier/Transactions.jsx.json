{
    "sourceFile": "src/cashier/Transactions.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1751625144260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751625519563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,13 @@\n import React, { useEffect, useState } from \"react\";\r\n+import { FaEye, FaTimes } from \"react-icons/fa\";\r\n \r\n const API = import.meta.env.VITE_AUTH_API_URL;\r\n \r\n const CashierTransactions = () => {\r\n   const [deposits, setDeposits] = useState([]);\r\n+  const [selectedDeposit, setSelectedDeposit] = useState(null);\r\n+  const [showModal, setShowModal] = useState(false);\r\n   const token = localStorage.getItem(\"token\");\r\n \r\n   useEffect(() => {\r\n     fetch(`${API}/cashier/deposits`, {\r\n@@ -13,35 +16,143 @@\n       .then((res) => res.json())\r\n       .then((data) => setDeposits(data.deposits || []));\r\n   }, []);\r\n \r\n+  const handleViewDetails = (deposit) => {\r\n+    setSelectedDeposit(deposit);\r\n+    setShowModal(true);\r\n+  };\r\n+\r\n+  const closeModal = () => {\r\n+    setShowModal(false);\r\n+    setSelectedDeposit(null);\r\n+  };\r\n+\r\n   return (\r\n-    <div>\r\n-      <h1 className=\"text-2xl font-bold mb-6\">Transactions</h1>\r\n-      <table className=\"w-full border\">\r\n-        <thead>\r\n-          <tr>\r\n-            <th className=\"border px-2 py-1\">User</th>\r\n-            <th className=\"border px-2 py-1\">Amount</th>\r\n-            <th className=\"border px-2 py-1\">Status</th>\r\n-            <th className=\"border px-2 py-1\">Date</th>\r\n-          </tr>\r\n-        </thead>\r\n-        <tbody>\r\n-          {deposits.map((d) => (\r\n-            <tr key={d._id}>\r\n-              <td className=\"border px-2 py-1\">\r\n-                {d.userId?.username || d.userId?.email || \"N/A\"}\r\n-              </td>\r\n-              <td className=\"border px-2 py-1\">{d.amount}</td>\r\n-              <td className=\"border px-2 py-1\">{d.status}</td>\r\n-              <td className=\"border px-2 py-1\">\r\n-                {new Date(d.createdAt).toLocaleString()}\r\n-              </td>\r\n+    <div className=\"p-6\">\r\n+      <h1 className=\"text-3xl font-bold mb-8 text-gray-800\">Transactions</h1>\r\n+      \r\n+      <div className=\"overflow-x-auto\">\r\n+        <table className=\"min-w-full bg-white rounded-lg shadow-md overflow-hidden\">\r\n+          <thead>\r\n+            <tr className=\"bg-gray-100 text-gray-700 text-left\">\r\n+              <th className=\"px-4 py-3\">User</th>\r\n+              <th className=\"px-4 py-3\">Amount</th>\r\n+              <th className=\"px-4 py-3\">Status</th>\r\n+              <th className=\"px-4 py-3\">Date</th>\r\n+              <th className=\"px-4 py-3\">Actions</th>\r\n             </tr>\r\n-          ))}\r\n-        </tbody>\r\n-      </table>\r\n+          </thead>\r\n+          <tbody>\r\n+            {deposits.map((deposit, idx) => (\r\n+              <tr key={deposit._id} className={idx % 2 === 0 ? \"bg-gray-50\" : \"\"}>\r\n+                <td className=\"px-4 py-3\">\r\n+                  <div>\r\n+                    <div className=\"font-medium\">{deposit.userId?.username || \"N/A\"}</div>\r\n+                    <div className=\"text-sm text-gray-500\">{deposit.userId?.email || \"N/A\"}</div>\r\n+                  </div>\r\n+                </td>\r\n+                <td className=\"px-4 py-3 font-semibold\">${deposit.amount}</td>\r\n+                <td className=\"px-4 py-3\">\r\n+                  <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n+                    deposit.status === 'completed' ? 'bg-green-100 text-green-600' :\r\n+                    deposit.status === 'pending' ? 'bg-yellow-100 text-yellow-600' :\r\n+                    'bg-red-100 text-red-600'\r\n+                  }`}>\r\n+                    {deposit.status}\r\n+                  </span>\r\n+                </td>\r\n+                <td className=\"px-4 py-3 text-sm\">\r\n+                  {new Date(deposit.createdAt).toLocaleDateString()}\r\n+                </td>\r\n+                <td className=\"px-4 py-3\">\r\n+                  <button\r\n+                    onClick={() => handleViewDetails(deposit)}\r\n+                    className=\"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition cursor-pointer\"\r\n+                  >\r\n+                    <FaEye className=\"inline mr-1\" />\r\n+                    View\r\n+                  </button>\r\n+                </td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n+      </div>\r\n+\r\n+      {/* Modal */}\r\n+      {showModal && selectedDeposit && (\r\n+        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n+          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n+            <div className=\"flex justify-between items-center p-6 border-b\">\r\n+              <h3 className=\"text-xl font-semibold text-gray-800\">Transaction Details</h3>\r\n+              <button\r\n+                onClick={closeModal}\r\n+                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n+              >\r\n+                <FaTimes className=\"text-xl\" />\r\n+              </button>\r\n+            </div>\r\n+            \r\n+            <div className=\"p-6 space-y-4\">\r\n+              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">User Information</label>\r\n+                  <div className=\"bg-gray-50 p-3 rounded\">\r\n+                    <div><strong>Name:</strong> {selectedDeposit.userId?.firstName} {selectedDeposit.userId?.lastName}</div>\r\n+                    <div><strong>Username:</strong> {selectedDeposit.userId?.username}</div>\r\n+                    <div><strong>Email:</strong> {selectedDeposit.userId?.email}</div>\r\n+                  </div>\r\n+                </div>\r\n+                \r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Transaction Information</label>\r\n+                  <div className=\"bg-gray-50 p-3 rounded\">\r\n+                    <div><strong>Amount:</strong> ${selectedDeposit.amount}</div>\r\n+                    <div><strong>Status:</strong> \r\n+                      <span className={`ml-2 px-2 py-1 rounded text-xs font-semibold ${\r\n+                        selectedDeposit.status === 'completed' ? 'bg-green-100 text-green-600' :\r\n+                        selectedDeposit.status === 'pending' ? 'bg-yellow-100 text-yellow-600' :\r\n+                        'bg-red-100 text-red-600'\r\n+                      }`}>\r\n+                        {selectedDeposit.status}\r\n+                      </span>\r\n+                    </div>\r\n+                    <div><strong>Date:</strong> {new Date(selectedDeposit.createdAt).toLocaleString()}</div>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n+              \r\n+              {selectedDeposit.game && (\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Game Information</label>\r\n+                  <div className=\"bg-gray-50 p-3 rounded\">\r\n+                    <div><strong>Game:</strong> {selectedDeposit.game}</div>\r\n+                  </div>\r\n+                </div>\r\n+              )}\r\n+              \r\n+              {selectedDeposit.notes && (\r\n+                <div>\r\n+                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Notes</label>\r\n+                  <div className=\"bg-gray-50 p-3 rounded\">\r\n+                    {selectedDeposit.notes}\r\n+                  </div>\r\n+                </div>\r\n+              )}\r\n+            </div>\r\n+            \r\n+            <div className=\"flex justify-end p-6 border-t\">\r\n+              <button\r\n+                onClick={closeModal}\r\n+                className=\"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded transition-colors\"\r\n+              >\r\n+                Close\r\n+              </button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      )}\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1751625858350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,8 @@\n           </tbody>\r\n         </table>\r\n       </div>\r\n \r\n-      {/* Modal */}\r\n       {showModal && selectedDeposit && (\r\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n           <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n             <div className=\"flex justify-between items-center p-6 border-b\">\r\n"
                },
                {
                    "date": 1751625872135,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,8 +78,9 @@\n           </tbody>\r\n         </table>\r\n       </div>\r\n \r\n+      {/* Modal */}\r\n       {showModal && selectedDeposit && (\r\n         <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n           <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n             <div className=\"flex justify-between items-center p-6 border-b\">\r\n"
                },
                {
                    "date": 1751626513485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,92 @@\n import React, { useEffect, useState } from \"react\";\r\n-import { FaEye, FaTimes } from \"react-icons/fa\";\r\n+import { FaSearch, FaFilter, FaEye, FaTimes } from \"react-icons/fa\";\r\n \r\n const API = import.meta.env.VITE_AUTH_API_URL;\r\n \r\n const CashierTransactions = () => {\r\n   const [deposits, setDeposits] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n+  const [filter, setFilter] = useState({\r\n+    userId: \"\",\r\n+    game: \"\",\r\n+    minAmount: \"\",\r\n+    maxAmount: \"\",\r\n+    startDate: \"\",\r\n+    endDate: \"\",\r\n+    status: \"\",\r\n+  });\r\n+  const [showFilters, setShowFilters] = useState(false);\r\n   const [selectedDeposit, setSelectedDeposit] = useState(null);\r\n   const [showModal, setShowModal] = useState(false);\r\n   const token = localStorage.getItem(\"token\");\r\n \r\n+  const fetchDeposits = async () => {\r\n+    setLoading(true);\r\n+    try {\r\n+      const params = new URLSearchParams();\r\n+      Object.entries(filter).forEach(([k, v]) => v && params.append(k, v));\r\n+\r\n+      const res = await fetch(\r\n+        `${API}/cashier/deposits?${params.toString()}`,\r\n+        {\r\n+          headers: { Authorization: `Bearer ${token}` },\r\n+        }\r\n+      );\r\n+      const data = await res.json();\r\n+      setDeposits(data.deposits || []);\r\n+    } catch (error) {\r\n+      console.error(\"Error fetching deposits:\", error);\r\n+    } finally {\r\n+      setLoading(false);\r\n+    }\r\n+  };\r\n+\r\n   useEffect(() => {\r\n-    fetch(`${API}/cashier/deposits`, {\r\n-      headers: { Authorization: `Bearer ${token}` },\r\n-    })\r\n-      .then((res) => res.json())\r\n-      .then((data) => setDeposits(data.deposits || []));\r\n+    fetchDeposits();\r\n   }, []);\r\n \r\n+  const handleFilterChange = (e) =>\r\n+    setFilter({ ...filter, [e.target.name]: e.target.value });\r\n+\r\n+  const handleFilterSubmit = (e) => {\r\n+    e.preventDefault();\r\n+    fetchDeposits();\r\n+  };\r\n+\r\n+  const clearFilters = () => {\r\n+    setFilter({\r\n+      userId: \"\",\r\n+      game: \"\",\r\n+      minAmount: \"\",\r\n+      maxAmount: \"\",\r\n+      startDate: \"\",\r\n+      endDate: \"\",\r\n+      status: \"\",\r\n+    });\r\n+    fetchDeposits();\r\n+  };\r\n+\r\n+  const formatDate = (dateString) => {\r\n+    return new Date(dateString).toLocaleString();\r\n+  };\r\n+\r\n+  const formatAmount = (amount) => {\r\n+    return new Intl.NumberFormat(\"en-US\", {\r\n+      style: \"currency\",\r\n+      currency: \"USD\",\r\n+    }).format(amount);\r\n+  };\r\n+\r\n+  const getStatusBadge = (status) => {\r\n+    const statusConfig = {\r\n+      completed: \"bg-green-100 text-green-800\",\r\n+      pending: \"bg-yellow-100 text-yellow-800\",\r\n+      failed: \"bg-red-100 text-red-800\",\r\n+    };\r\n+    return statusConfig[status] || \"bg-gray-100 text-gray-800\";\r\n+  };\r\n+\r\n   const handleViewDetails = (deposit) => {\r\n     setSelectedDeposit(deposit);\r\n     setShowModal(true);\r\n   };\r\n@@ -28,128 +97,277 @@\n   };\r\n \r\n   return (\r\n     <div className=\"p-6\">\r\n-      <h1 className=\"text-3xl font-bold mb-8 text-gray-800\">Transactions</h1>\r\n-      \r\n-      <div className=\"overflow-x-auto\">\r\n-        <table className=\"min-w-full bg-white rounded-lg shadow-md overflow-hidden\">\r\n-          <thead>\r\n-            <tr className=\"bg-gray-100 text-gray-700 text-left\">\r\n-              <th className=\"px-4 py-3\">User</th>\r\n-              <th className=\"px-4 py-3\">Amount</th>\r\n-              <th className=\"px-4 py-3\">Status</th>\r\n-              <th className=\"px-4 py-3\">Date</th>\r\n-              <th className=\"px-4 py-3\">Actions</th>\r\n-            </tr>\r\n-          </thead>\r\n-          <tbody>\r\n-            {deposits.map((deposit, idx) => (\r\n-              <tr key={deposit._id} className={idx % 2 === 0 ? \"bg-gray-50\" : \"\"}>\r\n-                <td className=\"px-4 py-3\">\r\n-                  <div>\r\n-                    <div className=\"font-medium\">{deposit.userId?.username || \"N/A\"}</div>\r\n-                    <div className=\"text-sm text-gray-500\">{deposit.userId?.email || \"N/A\"}</div>\r\n-                  </div>\r\n-                </td>\r\n-                <td className=\"px-4 py-3 font-semibold\">${deposit.amount}</td>\r\n-                <td className=\"px-4 py-3\">\r\n-                  <span className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n-                    deposit.status === 'completed' ? 'bg-green-100 text-green-600' :\r\n-                    deposit.status === 'pending' ? 'bg-yellow-100 text-yellow-600' :\r\n-                    'bg-red-100 text-red-600'\r\n-                  }`}>\r\n-                    {deposit.status}\r\n-                  </span>\r\n-                </td>\r\n-                <td className=\"px-4 py-3 text-sm\">\r\n-                  {new Date(deposit.createdAt).toLocaleDateString()}\r\n-                </td>\r\n-                <td className=\"px-4 py-3\">\r\n-                  <button\r\n-                    onClick={() => handleViewDetails(deposit)}\r\n-                    className=\"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition cursor-pointer\"\r\n-                  >\r\n-                    <FaEye className=\"inline mr-1\" />\r\n-                    View\r\n-                  </button>\r\n-                </td>\r\n-              </tr>\r\n-            ))}\r\n-          </tbody>\r\n-        </table>\r\n+      <div className=\"bg-gradient-to-br from-emerald-400 via-teal-400 to-cyan-400 text-white rounded-3xl p-6 sm:p-8 mb-8 sm:mb-10 shadow-lg\">\r\n+        <h1 className=\"text-3xl sm:text-5xl font-black tracking-tight drop-shadow-lg\">ðŸ’° Transactions</h1>\r\n+        <p className=\"text-base sm:text-xl mt-2 opacity-90\">View all deposit transactions</p>\r\n       </div>\r\n \r\n-      {/* Modal */}\r\n-      {showModal && selectedDeposit && (\r\n-        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n-          <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\r\n-            <div className=\"flex justify-between items-center p-6 border-b\">\r\n-              <h3 className=\"text-xl font-semibold text-gray-800\">Transaction Details</h3>\r\n+      <div className=\"bg-white p-6 sm:p-8 rounded-3xl shadow-2xl space-y-8 transition-all duration-300 hover:shadow-[0_20px_50px_rgba(8,_112,_184,_0.7)]\">\r\n+\r\n+        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n+          <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4\">\r\n+            <button\r\n+              onClick={() => setShowFilters(!showFilters)}\r\n+              className=\"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg\"\r\n+            >\r\n+              <FaFilter />\r\n+              {showFilters ? \"Hide Filters\" : \"Show Filters\"}\r\n+            </button>\r\n+            <button\r\n+              onClick={fetchDeposits}\r\n+              className=\"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg\"\r\n+            >\r\n+              <FaSearch />\r\n+              Refresh\r\n+            </button>\r\n+          </div>\r\n+\r\n+          <div className=\"text-left sm:text-right\">\r\n+            <p className=\"text-lg font-semibold text-gray-700\">\r\n+              Total Transactions: <span className=\"text-purple-600\">{deposits.length}</span>\r\n+            </p>\r\n+            <p className=\"text-sm text-gray-500\">\r\n+              Total Amount: <span className=\"text-green-600 font-semibold\">\r\n+                {formatAmount(deposits.reduce((sum, deposit) => sum + deposit.amount, 0))}\r\n+              </span>\r\n+            </p>\r\n+          </div>\r\n+        </div>\r\n+\r\n+        {showFilters && (\r\n+          <form onSubmit={handleFilterSubmit} className=\"bg-gray-50 p-6 rounded-2xl space-y-6\">\r\n+            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n+              {[\r\n+                { label: \"User ID\", name: \"userId\", type: \"text\", placeholder: \"Search by User ID\" },\r\n+                { label: \"Game\", name: \"game\", type: \"text\", placeholder: \"Search by Game\" },\r\n+                { label: \"Min Amount\", name: \"minAmount\", type: \"number\", placeholder: \"Min Amount\" },\r\n+                { label: \"Max Amount\", name: \"maxAmount\", type: \"number\", placeholder: \"Max Amount\" },\r\n+                { label: \"Start Date\", name: \"startDate\", type: \"date\" },\r\n+                { label: \"End Date\", name: \"endDate\", type: \"date\" },\r\n+              ].map(({ label, name, type, placeholder }) => (\r\n+                <div key={name}>\r\n+                  <label className=\"block text-gray-700 font-medium mb-2\">{label}</label>\r\n+                  <input\r\n+                    name={name}\r\n+                    type={type}\r\n+                    placeholder={placeholder}\r\n+                    value={filter[name]}\r\n+                    onChange={handleFilterChange}\r\n+                    className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                  />\r\n+                </div>\r\n+              ))}\r\n+              <div>\r\n+                <label className=\"block text-gray-700 font-medium mb-2\">Status</label>\r\n+                <select\r\n+                  name=\"status\"\r\n+                  value={filter.status}\r\n+                  onChange={handleFilterChange}\r\n+                  className=\"border border-gray-300 bg-white p-3 rounded-xl w-full focus:outline-none focus:ring-2 focus:ring-purple-400\"\r\n+                >\r\n+                  <option value=\"\">All Status</option>\r\n+                  <option value=\"completed\">Completed</option>\r\n+                  <option value=\"pending\">Pending</option>\r\n+                  <option value=\"failed\">Failed</option>\r\n+                </select>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"flex flex-col sm:flex-row gap-4 justify-end\">\r\n               <button\r\n-                onClick={closeModal}\r\n-                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n+                type=\"button\"\r\n+                onClick={clearFilters}\r\n+                className=\"bg-gray-200 hover:bg-gray-300 px-6 py-3 rounded-xl transition-all duration-300\"\r\n               >\r\n-                <FaTimes className=\"text-xl\" />\r\n+                Clear Filters\r\n               </button>\r\n+              <button\r\n+                type=\"submit\"\r\n+                className=\"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-6 py-3 rounded-xl transition-all duration-300 shadow-lg\"\r\n+              >\r\n+                Apply Filters\r\n+              </button>\r\n             </div>\r\n-            \r\n-            <div className=\"p-6 space-y-4\">\r\n-              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n-                <div>\r\n-                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">User Information</label>\r\n-                  <div className=\"bg-gray-50 p-3 rounded\">\r\n-                    <div><strong>Name:</strong> {selectedDeposit.userId?.firstName} {selectedDeposit.userId?.lastName}</div>\r\n-                    <div><strong>Username:</strong> {selectedDeposit.userId?.username}</div>\r\n-                    <div><strong>Email:</strong> {selectedDeposit.userId?.email}</div>\r\n-                  </div>\r\n-                </div>\r\n-                \r\n-                <div>\r\n-                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Transaction Information</label>\r\n-                  <div className=\"bg-gray-50 p-3 rounded\">\r\n-                    <div><strong>Amount:</strong> ${selectedDeposit.amount}</div>\r\n-                    <div><strong>Status:</strong> \r\n-                      <span className={`ml-2 px-2 py-1 rounded text-xs font-semibold ${\r\n-                        selectedDeposit.status === 'completed' ? 'bg-green-100 text-green-600' :\r\n-                        selectedDeposit.status === 'pending' ? 'bg-yellow-100 text-yellow-600' :\r\n-                        'bg-red-100 text-red-600'\r\n-                      }`}>\r\n-                        {selectedDeposit.status}\r\n+          </form>\r\n+        )}\r\n+\r\n+        <div className=\"overflow-x-auto rounded-2xl\">\r\n+          {loading ? (\r\n+            <div className=\"text-center py-12\">\r\n+              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto\"></div>\r\n+              <p className=\"mt-4 text-gray-600 text-sm sm:text-base\">Loading transactions...</p>\r\n+            </div>\r\n+          ) : deposits.length === 0 ? (\r\n+            <div className=\"text-center py-12\">\r\n+              <div className=\"text-6xl mb-4\">ðŸ“Š</div>\r\n+              <p className=\"text-lg sm:text-xl text-gray-600\">No transactions found</p>\r\n+              <p className=\"text-gray-500 text-sm\">Try adjusting your filters or check back later</p>\r\n+            </div>\r\n+          ) : (\r\n+            <table className=\"min-w-full\">\r\n+              <thead className=\"bg-gradient-to-r from-purple-600 to-purple-700 text-white text-sm\">\r\n+                <tr>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">User</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Game</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Amount</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Status</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Date</th>\r\n+                  <th className=\"px-3 py-3 sm:px-6 sm:py-4 text-left font-semibold\">Actions</th>\r\n+                </tr>\r\n+              </thead>\r\n+              <tbody className=\"divide-y divide-gray-200 text-sm\">\r\n+                {deposits.map((deposit, idx) => (\r\n+                  <tr key={deposit._id} className={`hover:bg-gray-50 transition-colors ${idx % 2 === 0 ? \"bg-white\" : \"bg-gray-50\"}`}>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4 break-words\">\r\n+                      <div className=\"font-semibold text-gray-900\">{deposit.userId?.username || deposit.gameUsername || \"N/A\"}</div>\r\n+                      <div className=\"text-xs text-gray-500\">{deposit.userId?.email || deposit.customerEmail}</div>\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4\">\r\n+                      <span className=\"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\">\r\n+                        {deposit.game}\r\n                       </span>\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4 font-bold text-green-600 text-base\">\r\n+                      {formatAmount(deposit.amount)}\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4\">\r\n+                      <span className={`inline-block px-3 py-1 rounded-full text-xs font-bold ${getStatusBadge(deposit.status)}`}>\r\n+                        {deposit.status}\r\n+                      </span>\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4 text-gray-600 text-xs\">\r\n+                      {formatDate(deposit.createdAt)}\r\n+                    </td>\r\n+                    <td className=\"px-3 py-3 sm:px-6 sm:py-4\">\r\n+                      <button \r\n+                        onClick={() => handleViewDetails(deposit)}\r\n+                        className=\"text-purple-600 hover:text-purple-800 transition-colors p-2 rounded-lg hover:bg-purple-50\"\r\n+                        title=\"View Details\"\r\n+                      >\r\n+                        <FaEye className=\"text-lg\" />\r\n+                      </button>\r\n+                    </td>\r\n+                  </tr>\r\n+                ))}\r\n+              </tbody>\r\n+            </table>\r\n+          )}\r\n+        </div>\r\n+      </div>\r\n+\r\n+      {showModal && selectedDeposit && (\r\n+        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n+          <div className=\"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n+            <div className=\"bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-3xl flex justify-between items-center\">\r\n+              <div>\r\n+                <h2 className=\"text-2xl font-bold\">Transaction Details</h2>\r\n+                <p className=\"text-purple-100\">ID: {selectedDeposit._id}</p>\r\n+              </div>\r\n+              <div className=\"flex gap-2\">\r\n+                <button\r\n+                  onClick={closeModal}\r\n+                  className=\"bg-white text-red-600 bg-opacity-20 hover:bg-opacity-30 p-2 rounded-lg transition-colors\"\r\n+                  title=\"Close\"\r\n+                >\r\n+                  <FaTimes className=\"text-lg\" />\r\n+                </button>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"p-6 space-y-6\">\r\n+              <div className=\"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-2xl\">\r\n+                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n+                  <div className=\"text-center\">\r\n+                    <div className=\"text-3xl font-bold text-green-600\">\r\n+                      {formatAmount(selectedDeposit.amount)}\r\n                     </div>\r\n-                    <div><strong>Date:</strong> {new Date(selectedDeposit.createdAt).toLocaleString()}</div>\r\n+                    <div className=\"text-sm text-gray-600\">Amount</div>\r\n                   </div>\r\n+                  <div className=\"text-center\">\r\n+                    <div className=\"text-2xl font-bold text-purple-600\">\r\n+                      {selectedDeposit.game}\r\n+                    </div>\r\n+                    <div className=\"text-sm text-gray-600\">Game</div>\r\n+                  </div>\r\n+                  <div className=\"text-center\">\r\n+                    <span className={`inline-block px-4 py-2 rounded-full text-sm font-bold ${getStatusBadge(selectedDeposit.status)}`}>\r\n+                      {selectedDeposit.status}\r\n+                    </span>\r\n+                    <div className=\"text-sm text-gray-600 mt-1\">Status</div>\r\n+                  </div>\r\n                 </div>\r\n               </div>\r\n-              \r\n-              {selectedDeposit.game && (\r\n-                <div>\r\n-                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Game Information</label>\r\n-                  <div className=\"bg-gray-50 p-3 rounded\">\r\n-                    <div><strong>Game:</strong> {selectedDeposit.game}</div>\r\n+\r\n+              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n+                <div className=\"bg-gray-50 p-6 rounded-2xl\">\r\n+                  <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">User Information</h3>\r\n+                  <div className=\"space-y-3\">\r\n+                    <div>\r\n+                      <span className=\"text-sm text-gray-600\">Username:</span>\r\n+                      <div className=\"font-semibold\">{selectedDeposit.userId?.username || selectedDeposit.gameUsername || \"N/A\"}</div>\r\n+                    </div>\r\n+                    <div>\r\n+                      <span className=\"text-sm text-gray-600\">Email:</span>\r\n+                      <div className=\"font-semibold\">{selectedDeposit.userId?.email || selectedDeposit.customerEmail}</div>\r\n+                    </div>\r\n+                    <div>\r\n+                      <span className=\"text-sm text-gray-600\">Phone:</span>\r\n+                      <div className=\"font-semibold\">{selectedDeposit.customerPhone}</div>\r\n+                    </div>\r\n+                    {selectedDeposit.userId?.firstName && (\r\n+                      <div>\r\n+                        <span className=\"text-sm text-gray-600\">Full Name:</span>\r\n+                        <div className=\"font-semibold\">{selectedDeposit.userId.firstName} {selectedDeposit.userId.lastName}</div>\r\n+                      </div>\r\n+                    )}\r\n                   </div>\r\n                 </div>\r\n-              )}\r\n-              \r\n-              {selectedDeposit.notes && (\r\n-                <div>\r\n-                  <label className=\"block text-sm font-medium text-gray-600 mb-1\">Notes</label>\r\n-                  <div className=\"bg-gray-50 p-3 rounded\">\r\n-                    {selectedDeposit.notes}\r\n+\r\n+                <div className=\"bg-gray-50 p-6 rounded-2xl\">\r\n+                  <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">PayPal Information</h3>\r\n+                  <div className=\"space-y-3\">\r\n+                    <div>\r\n+                      <span className=\"text-sm text-gray-600\">Order ID:</span>\r\n+                      <div className=\"font-mono text-sm\">{selectedDeposit.paypalOrderId}</div>\r\n+                    </div>\r\n+                    {selectedDeposit.payer && (\r\n+                      <>\r\n+                        <div>\r\n+                          <span className=\"text-sm text-gray-600\">Payer Name:</span>\r\n+                          <div className=\"font-semibold\">\r\n+                            {selectedDeposit.payer.name?.given_name} {selectedDeposit.payer.name?.surname}\r\n+                          </div>\r\n+                        </div>\r\n+                        <div>\r\n+                          <span className=\"text-sm text-gray-600\">Payer Email:</span>\r\n+                          <div className=\"font-semibold\">{selectedDeposit.payer.email_address}</div>\r\n+                        </div>\r\n+                        <div>\r\n+                          <span className=\"text-sm text-gray-600\">Country:</span>\r\n+                          <div className=\"font-semibold\">{selectedDeposit.payer.address?.country_code}</div>\r\n+                        </div>\r\n+                      </>\r\n+                    )}\r\n                   </div>\r\n                 </div>\r\n-              )}\r\n+              </div>\r\n+\r\n+              <div className=\"bg-gray-50 p-6 rounded-2xl\">\r\n+                <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Transaction Details</h3>\r\n+                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n+                  <div>\r\n+                    <span className=\"text-sm text-gray-600\">Transaction ID:</span>\r\n+                    <div className=\"font-mono text-sm\">{selectedDeposit._id}</div>\r\n+                  </div>\r\n+                  <div>\r\n+                    <span className=\"text-sm text-gray-600\">Date & Time:</span>\r\n+                    <div className=\"font-semibold\">{formatDate(selectedDeposit.createdAt)}</div>\r\n+                  </div>\r\n+                </div>\r\n+              </div>\r\n             </div>\r\n-            \r\n-            <div className=\"flex justify-end p-6 border-t\">\r\n-              <button\r\n-                onClick={closeModal}\r\n-                className=\"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-700 rounded transition-colors\"\r\n-              >\r\n-                Close\r\n-              </button>\r\n-            </div>\r\n           </div>\r\n         </div>\r\n       )}\r\n     </div>\r\n"
                }
            ],
            "date": 1751625144260,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\n\r\nconst API = import.meta.env.VITE_AUTH_API_URL;\r\n\r\nconst CashierTransactions = () => {\r\n  const [deposits, setDeposits] = useState([]);\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/cashier/deposits`, {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setDeposits(data.deposits || []));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"text-2xl font-bold mb-6\">Transactions</h1>\r\n      <table className=\"w-full border\">\r\n        <thead>\r\n          <tr>\r\n            <th className=\"border px-2 py-1\">User</th>\r\n            <th className=\"border px-2 py-1\">Amount</th>\r\n            <th className=\"border px-2 py-1\">Status</th>\r\n            <th className=\"border px-2 py-1\">Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {deposits.map((d) => (\r\n            <tr key={d._id}>\r\n              <td className=\"border px-2 py-1\">\r\n                {d.userId?.username || d.userId?.email || \"N/A\"}\r\n              </td>\r\n              <td className=\"border px-2 py-1\">{d.amount}</td>\r\n              <td className=\"border px-2 py-1\">{d.status}</td>\r\n              <td className=\"border px-2 py-1\">\r\n                {new Date(d.createdAt).toLocaleString()}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CashierTransactions;"
        }
    ]
}